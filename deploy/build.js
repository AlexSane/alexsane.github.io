(function(){var t=this,n=t._,e={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,s=r.slice,u=r.concat,l=i.toString,c=i.hasOwnProperty,f=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,g=r.filter,v=r.every,m=r.some,y=r.indexOf,x=r.lastIndexOf,b=Array.isArray,w=Object.keys,S=o.bind,k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.6.0";var C=k.each=k.forEach=function(t,n,r){if(null==t)return t;if(f&&t.forEach===f)t.forEach(n,r);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(n.call(r,t[i],i,t)===e)return}else for(var a=k.keys(t),i=0,o=a.length;o>i;i++)if(n.call(r,t[a[i]],a[i],t)===e)return;return t};k.map=k.collect=function(t,n,e){var r=[];return null==t?r:h&&t.map===h?t.map(n,e):(C(t,function(t,i,o){r.push(n.call(e,t,i,o))}),r)};var _="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return r&&(n=k.bind(n,r)),i?t.reduce(n,e):t.reduce(n);if(C(t,function(t,o,a){i?e=n.call(r,e,t,o,a):(e=t,i=!0)}),!i)throw new TypeError(_);return e},k.reduceRight=k.foldr=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(n=k.bind(n,r)),i?t.reduceRight(n,e):t.reduceRight(n);var o=t.length;if(o!==+o){var a=k.keys(t);o=a.length}if(C(t,function(s,u,l){u=a?a[--o]:--o,i?e=n.call(r,e,t[u],u,l):(e=t[u],i=!0)}),!i)throw new TypeError(_);return e},k.find=k.detect=function(t,n,e){var r;return A(t,function(t,i,o){return n.call(e,t,i,o)?(r=t,!0):void 0}),r},k.filter=k.select=function(t,n,e){var r=[];return null==t?r:g&&t.filter===g?t.filter(n,e):(C(t,function(t,i,o){n.call(e,t,i,o)&&r.push(t)}),r)},k.reject=function(t,n,e){return k.filter(t,function(t,r,i){return!n.call(e,t,r,i)},e)},k.every=k.all=function(t,n,r){n||(n=k.identity);var i=!0;return null==t?i:v&&t.every===v?t.every(n,r):(C(t,function(t,o,a){return(i=i&&n.call(r,t,o,a))?void 0:e}),!!i)};var A=k.some=k.any=function(t,n,r){n||(n=k.identity);var i=!1;return null==t?i:m&&t.some===m?t.some(n,r):(C(t,function(t,o,a){return i||(i=n.call(r,t,o,a))?e:void 0}),!!i)};k.contains=k.include=function(t,n){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(n):A(t,function(t){return t===n})},k.invoke=function(t,n){var e=s.call(arguments,2),r=k.isFunction(n);return k.map(t,function(t){return(r?n:t[n]).apply(t,e)})},k.pluck=function(t,n){return k.map(t,k.property(n))},k.where=function(t,n){return k.filter(t,k.matches(n))},k.findWhere=function(t,n){return k.find(t,k.matches(n))},k.max=function(t,n,e){if(!n&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-(1/0),i=-(1/0);return C(t,function(t,o,a){var s=n?n.call(e,t,o,a):t;s>i&&(r=t,i=s)}),r},k.min=function(t,n,e){if(!n&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return C(t,function(t,o,a){var s=n?n.call(e,t,o,a):t;i>s&&(r=t,i=s)}),r},k.shuffle=function(t){var n,e=0,r=[];return C(t,function(t){n=k.random(e++),r[e-1]=r[n],r[n]=t}),r},k.sample=function(t,n,e){return null==n||e?(t.length!==+t.length&&(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,n))};var M=function(t){return null==t?k.identity:k.isFunction(t)?t:k.property(t)};k.sortBy=function(t,n,e){return n=M(n),k.pluck(k.map(t,function(t,r,i){return{value:t,index:r,criteria:n.call(e,t,r,i)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return t.index-n.index}),"value")};var j=function(t){return function(n,e,r){var i={};return e=M(e),C(n,function(o,a){var s=e.call(r,o,a,n);t(i,s,o)}),i}};k.groupBy=j(function(t,n,e){k.has(t,n)?t[n].push(e):t[n]=[e]}),k.indexBy=j(function(t,n,e){t[n]=e}),k.countBy=j(function(t,n){k.has(t,n)?t[n]++:t[n]=1}),k.sortedIndex=function(t,n,e,r){e=M(e);for(var i=e.call(r,n),o=0,a=t.length;a>o;){var s=o+a>>>1;e.call(r,t[s])<i?o=s+1:a=s}return o},k.toArray=function(t){return t?k.isArray(t)?s.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,n,e){return null!=t?null==n||e?t[0]:0>n?[]:s.call(t,0,n):void 0},k.initial=function(t,n,e){return s.call(t,0,t.length-(null==n||e?1:n))},k.last=function(t,n,e){return null!=t?null==n||e?t[t.length-1]:s.call(t,Math.max(t.length-n,0)):void 0},k.rest=k.tail=k.drop=function(t,n,e){return s.call(t,null==n||e?1:n)},k.compact=function(t){return k.filter(t,k.identity)};var B=function(t,n,e){return n&&k.every(t,k.isArray)?u.apply(e,t):(C(t,function(t){k.isArray(t)||k.isArguments(t)?n?a.apply(e,t):B(t,n,e):e.push(t)}),e)};k.flatten=function(t,n){return B(t,n,[])},k.without=function(t){return k.difference(t,s.call(arguments,1))},k.partition=function(t,n){var e=[],r=[];return C(t,function(t){(n(t)?e:r).push(t)}),[e,r]},k.uniq=k.unique=function(t,n,e,r){k.isFunction(n)&&(r=e,e=n,n=!1);var i=e?k.map(t,e,r):t,o=[],a=[];return C(i,function(e,r){(n?r&&a[a.length-1]===e:k.contains(a,e))||(a.push(e),o.push(t[r]))}),o},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(t){var n=s.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(n,function(n){return k.contains(n,t)})})},k.difference=function(t){var n=u.apply(r,s.call(arguments,1));return k.filter(t,function(t){return!k.contains(n,t)})},k.zip=function(){for(var t=k.max(k.pluck(arguments,"length").concat(0)),n=new Array(t),e=0;t>e;e++)n[e]=k.pluck(arguments,""+e);return n},k.object=function(t,n){if(null==t)return{};for(var e={},r=0,i=t.length;i>r;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},k.indexOf=function(t,n,e){if(null==t)return-1;var r=0,i=t.length;if(e){if("number"!=typeof e)return r=k.sortedIndex(t,n),t[r]===n?r:-1;r=0>e?Math.max(0,i+e):e}if(y&&t.indexOf===y)return t.indexOf(n,e);for(;i>r;r++)if(t[r]===n)return r;return-1},k.lastIndexOf=function(t,n,e){if(null==t)return-1;var r=null!=e;if(x&&t.lastIndexOf===x)return r?t.lastIndexOf(n,e):t.lastIndexOf(n);for(var i=r?e:t.length;i--;)if(t[i]===n)return i;return-1},k.range=function(t,n,e){arguments.length<=1&&(n=t||0,t=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=e;return o};var F=function(){};k.bind=function(t,n){var e,r;if(S&&t.bind===S)return S.apply(t,s.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return e=s.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(n,e.concat(s.call(arguments)));F.prototype=t.prototype;var i=new F;F.prototype=null;var o=t.apply(i,e.concat(s.call(arguments)));return Object(o)===o?o:i}},k.partial=function(t){var n=s.call(arguments,1);return function(){for(var e=0,r=n.slice(),i=0,o=r.length;o>i;i++)r[i]===k&&(r[i]=arguments[e++]);for(;e<arguments.length;)r.push(arguments[e++]);return t.apply(this,r)}},k.bindAll=function(t){var n=s.call(arguments,1);if(0===n.length)throw new Error("bindAll must be passed function names");return C(n,function(n){t[n]=k.bind(t[n],t)}),t},k.memoize=function(t,n){var e={};return n||(n=k.identity),function(){var r=n.apply(this,arguments);return k.has(e,r)?e[r]:e[r]=t.apply(this,arguments)}},k.delay=function(t,n){var e=s.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(s.call(arguments,1)))},k.throttle=function(t,n,e){var r,i,o,a=null,s=0;e||(e={});var u=function(){s=e.leading===!1?0:k.now(),a=null,o=t.apply(r,i),r=i=null};return function(){var l=k.now();s||e.leading!==!1||(s=l);var c=n-(l-s);return r=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=l,o=t.apply(r,i),r=i=null):a||e.trailing===!1||(a=setTimeout(u,c)),o}},k.debounce=function(t,n,e){var r,i,o,a,s,u=function(){var l=k.now()-a;n>l?r=setTimeout(u,n-l):(r=null,e||(s=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,a=k.now();var l=e&&!r;return r||(r=setTimeout(u,n)),l&&(s=t.apply(o,i),o=i=null),s}},k.once=function(t){var n,e=!1;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}},k.wrap=function(t,n){return k.partial(n,t)},k.compose=function(){var t=arguments;return function(){for(var n=arguments,e=t.length-1;e>=0;e--)n=[t[e].apply(this,n)];return n[0]}},k.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},k.keys=function(t){if(!k.isObject(t))return[];if(w)return w(t);var n=[];for(var e in t)k.has(t,e)&&n.push(e);return n},k.values=function(t){for(var n=k.keys(t),e=n.length,r=new Array(e),i=0;e>i;i++)r[i]=t[n[i]];return r},k.pairs=function(t){for(var n=k.keys(t),e=n.length,r=new Array(e),i=0;e>i;i++)r[i]=[n[i],t[n[i]]];return r},k.invert=function(t){for(var n={},e=k.keys(t),r=0,i=e.length;i>r;r++)n[t[e[r]]]=e[r];return n},k.functions=k.methods=function(t){var n=[];for(var e in t)k.isFunction(t[e])&&n.push(e);return n.sort()},k.extend=function(t){return C(s.call(arguments,1),function(n){if(n)for(var e in n)t[e]=n[e]}),t},k.pick=function(t){var n={},e=u.apply(r,s.call(arguments,1));return C(e,function(e){e in t&&(n[e]=t[e])}),n},k.omit=function(t){var n={},e=u.apply(r,s.call(arguments,1));for(var i in t)k.contains(e,i)||(n[i]=t[i]);return n},k.defaults=function(t){return C(s.call(arguments,1),function(n){if(n)for(var e in n)void 0===t[e]&&(t[e]=n[e])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,n){return n(t),t};var T=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof k&&(t=t._wrapped),n instanceof k&&(n=n._wrapped);var i=l.call(t);if(i!=l.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var o=e.length;o--;)if(e[o]==t)return r[o]==n;var a=t.constructor,s=n.constructor;if(a!==s&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in n)return!1;e.push(t),r.push(n);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==n.length)for(;u--&&(c=T(t[u],n[u],e,r)););}else{for(var f in t)if(k.has(t,f)&&(u++,!(c=k.has(n,f)&&T(t[f],n[f],e,r))))break;if(c){for(f in n)if(k.has(n,f)&&!u--)break;c=!u}}return e.pop(),r.pop(),c};k.isEqual=function(t,n){return T(t,n,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var n in t)if(k.has(t,n))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=b||function(t){return"[object Array]"==l.call(t)},k.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(n){return l.call(n)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,n){return c.call(t,n)},k.noConflict=function(){return t._=n,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.property=function(t){return function(n){return n[t]}},k.matches=function(t){return function(n){if(n===t)return!0;for(var e in t)if(t[e]!==n[e])return!1;return!0}},k.times=function(t,n,e){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=n.call(e,i);return r},k.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=k.invert(E.escape);var N={escape:new RegExp("["+k.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(E.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(n){return null==n?"":(""+n).replace(N[t],function(n){return E[t][n]})}}),k.result=function(t,n){if(null!=t){var e=t[n];return k.isFunction(e)?e.call(t):e}},k.mixin=function(t){C(k.functions(t),function(n){var e=k[n]=t[n];k.prototype[n]=function(){var t=[this._wrapped];return a.apply(t,arguments),L.call(this,e.apply(k,t))}})};var P=0;k.uniqueId=function(t){var n=++P+"";return t?t+n:n},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,n,e){var r;e=k.defaults({},e,k.templateSettings);var i=new RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(n,e,r,i,s){return a+=t.slice(o,s).replace(R,function(t){return"\\"+O[t]}),e&&(a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+n.length,n}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(n)return r(n,k);var u=function(t){return r.call(this,t,k)};return u.source="function("+(e.variable||"obj")+"){\n"+a+"}",u},k.chain=function(t){return k(t).chain()};var L=function(t){return this._chain?k(t).chain():t};k.mixin(k),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=r[t];k.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!=t&&"splice"!=t||0!==e.length||delete e[0],L.call(this,e)}}),C(["concat","join","slice"],function(t){var n=r[t];k.prototype[t]=function(){return L.call(this,n.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}).call(this),define("Underscore",function(t){return function(){var n;return n||t._}}(this)),function(t){var n,e,r="0.4.2",i="hasOwnProperty",o=/[\.\/]/,a=/\s*,\s*/,s="*",u=function(t,n){return t-n},l={n:{}},c=function(){for(var t=0,n=this.length;n>t;t++)if("undefined"!=typeof this[t])return this[t]},f=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},h=function(t,r){t=String(t);var i,o=e,a=Array.prototype.slice.call(arguments,2),s=h.listeners(t),l=0,p=[],d={},g=[],v=n;g.firstDefined=c,g.lastDefined=f,n=t,e=0;for(var m=0,y=s.length;y>m;m++)"zIndex"in s[m]&&(p.push(s[m].zIndex),s[m].zIndex<0&&(d[s[m].zIndex]=s[m]));for(p.sort(u);p[l]<0;)if(i=d[p[l++]],g.push(i.apply(r,a)),e)return e=o,g;for(m=0;y>m;m++)if(i=s[m],"zIndex"in i)if(i.zIndex==p[l]){if(g.push(i.apply(r,a)),e)break;do if(l++,i=d[p[l]],i&&g.push(i.apply(r,a)),e)break;while(i)}else d[i.zIndex]=i;else if(g.push(i.apply(r,a)),e)break;return e=o,n=v,g};h._events=l,h.listeners=function(t){var n,e,r,i,a,u,c,f,h=t.split(o),p=l,d=[p],g=[];for(i=0,a=h.length;a>i;i++){for(f=[],u=0,c=d.length;c>u;u++)for(p=d[u].n,e=[p[h[i]],p[s]],r=2;r--;)n=e[r],n&&(f.push(n),g=g.concat(n.f||[]));d=f}return g},h.on=function(t,n){if(t=String(t),"function"!=typeof n)return function(){};for(var e=t.split(a),r=0,i=e.length;i>r;r++)!function(t){for(var e,r=t.split(o),i=l,a=0,s=r.length;s>a;a++)i=i.n,i=i.hasOwnProperty(r[a])&&i[r[a]]||(i[r[a]]={n:{}});for(i.f=i.f||[],a=0,s=i.f.length;s>a;a++)if(i.f[a]==n){e=!0;break}!e&&i.f.push(n)}(e[r]);return function(t){+t==+t&&(n.zIndex=+t)}},h.f=function(t){var n=[].slice.call(arguments,1);return function(){h.apply(null,[t,null].concat(n).concat([].slice.call(arguments,0)))}},h.stop=function(){e=1},h.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(n):n},h.nts=function(){return n.split(o)},h.off=h.unbind=function(t,n){if(!t)return void(h._events=l={n:{}});var e=t.split(a);if(e.length>1)for(var r=0,u=e.length;u>r;r++)h.off(e[r],n);else{e=t.split(o);var c,f,p,r,u,d,g,v=[l];for(r=0,u=e.length;u>r;r++)for(d=0;d<v.length;d+=p.length-2){if(p=[d,1],c=v[d].n,e[r]!=s)c[e[r]]&&p.push(c[e[r]]);else for(f in c)c[i](f)&&p.push(c[f]);v.splice.apply(v,p)}for(r=0,u=v.length;u>r;r++)for(c=v[r];c.n;){if(n){if(c.f){for(d=0,g=c.f.length;g>d;d++)if(c.f[d]==n){c.f.splice(d,1);break}!c.f.length&&delete c.f}for(f in c.n)if(c.n[i](f)&&c.n[f].f){var m=c.n[f].f;for(d=0,g=m.length;g>d;d++)if(m[d]==n){m.splice(d,1);break}!m.length&&delete c.n[f].f}}else{delete c.f;for(f in c.n)c.n[i](f)&&c.n[f].f&&delete c.n[f].f}c=c.n}}},h.once=function(t,n){var e=function(){return h.unbind(t,e),n.apply(this,arguments)};return h.on(t,e)},h.version=r,h.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=h:"function"==typeof define&&define.amd?define("eve",[],function(){return h}):t.eve=h}(this),function(t,n){"function"==typeof define&&define.amd?define("Snap",["eve"],function(e){return n(t,e)}):n(t,t.eve)}(this,function(t,n){var e=function(n){var e={},r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},i=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},o=0,a="M"+(+new Date).toString(36),s=function(){return a+(o++).toString(36)},u=Date.now||function(){return+new Date},l=function(t){var n=this;if(null==t)return n.s;var e=n.s-t;n.b+=n.dur*e,n.B+=n.dur*e,n.s=t},c=function(t){var n=this;return null==t?n.spd:void(n.spd=t)},f=function(t){var n=this;return null==t?n.dur:(n.s=n.s*t/n.dur,void(n.dur=t))},h=function(){var t=this;delete e[t.id],t.update(),n("mina.stop."+t.id,t)},p=function(){var t=this;t.pdif||(delete e[t.id],t.update(),t.pdif=t.get()-t.b)},d=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,e[t.id]=t)},g=function(){var t,n=this;if(i(n.start)){t=[];for(var e=0,r=n.start.length;r>e;e++)t[e]=+n.start[e]+(n.end[e]-n.start[e])*n.easing(n.s)}else t=+n.start+(n.end-n.start)*n.easing(n.s);n.set(t)},v=function(){var t=0;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],a=o.get();t++,o.s=(a-o.b)/(o.dur/o.spd),o.s>=1&&(delete e[i],o.s=1,t--,function(t){setTimeout(function(){n("mina.finish."+t.id,t)})}(o)),o.update()}t&&r(v)},m=function(t,n,i,o,a,u,y){var x={id:s(),start:t,end:n,b:i,s:0,dur:o-i,spd:1,get:a,set:u,easing:y||m.linear,status:l,speed:c,duration:f,stop:h,pause:p,resume:d,update:g};e[x.id]=x;var b,w=0;for(b in e)if(e.hasOwnProperty(b)&&(w++,2==w))break;return 1==w&&r(v),x};return m.time=u,m.getById=function(t){return e[t]||null},m.linear=function(t){return t},m.easeout=function(t){return Math.pow(t,1.7)},m.easein=function(t){return Math.pow(t,.48)},m.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var n=.48-t/1.04,e=Math.sqrt(.1734+n*n),r=e-n,i=Math.pow(Math.abs(r),1/3)*(0>r?-1:1),o=-e-n,a=Math.pow(Math.abs(o),1/3)*(0>o?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},m.backin=function(t){if(1==t)return 1;var n=1.70158;return t*t*((n+1)*t-n)},m.backout=function(t){if(0==t)return 0;t-=1;var n=1.70158;return t*t*((n+1)*t+n)+1},m.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},m.bounce=function(t){var n,e=7.5625,r=2.75;return 1/r>t?n=e*t*t:2/r>t?(t-=1.5/r,n=e*t*t+.75):2.5/r>t?(t-=2.25/r,n=e*t*t+.9375):(t-=2.625/r,n=e*t*t+.984375),n},t.mina=m,m}("undefined"==typeof n?function(){}:n),r=function(){function r(t,n){if(t){if(t.tagName)return C(t);if(o(t,"array")&&r.set)return r.set.apply(r,t);if(t instanceof b)return t;if(null==n)return t=_.doc.querySelector(t),C(t)}return t=null==t?"100%":t,n=null==n?"100%":n,new k(t,n)}function i(t,n){if(n){if("#text"==t&&(t=_.doc.createTextNode(n.text||"")),"string"==typeof t&&(t=i(t)),"string"==typeof n)return"xlink:"==n.substring(0,6)?t.getAttributeNS(Y,n.substring(6)):"xml:"==n.substring(0,4)?t.getAttributeNS(W,n.substring(4)):t.getAttribute(n);for(var e in n)if(n[A](e)){var r=M(n[e]);r?"xlink:"==e.substring(0,6)?t.setAttributeNS(Y,e.substring(6),r):"xml:"==e.substring(0,4)?t.setAttributeNS(W,e.substring(4),r):t.setAttribute(e,r):t.removeAttribute(e)}}else t=_.doc.createElementNS(W,t);return t}function o(t,n){return n=M.prototype.toLowerCase.call(n),"finite"==n?isFinite(t):"array"==n&&(t instanceof Array||Array.isArray&&Array.isArray(t))?!0:"null"==n&&null===t||n==typeof t&&null!==t||"object"==n&&t===Object(t)||R.call(t).slice(8,-1).toLowerCase()==n}function a(t){if("function"==typeof t||Object(t)!==t)return t;var n=new t.constructor;for(var e in t)t[A](e)&&(n[e]=a(t[e]));return n}function s(t,n){for(var e=0,r=t.length;r>e;e++)if(t[e]===n)return t.push(t.splice(e,1)[0])}function u(t,n,e){function r(){var i=Array.prototype.slice.call(arguments,0),o=i.join("␀"),a=r.cache=r.cache||{},u=r.count=r.count||[];return a[A](o)?(s(u,o),e?e(a[o]):a[o]):(u.length>=1e3&&delete a[u.shift()],u.push(o),a[o]=t.apply(n,i),e?e(a[o]):a[o])}return r}function l(t,n,e,r,i,o){if(null==i){var a=t-e,s=n-r;return a||s?(180+180*F.atan2(-s,-a)/P+360)%360:0}return l(t,n,i,o)-l(e,r,i,o)}function c(t){return t%360*P/180}function f(t){return 180*t/P%360}function h(t){var n=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,e,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==e&&1==r.length&&r.push(0,0),"scale"==e&&(r.length>2?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),"skewX"==e?n.push(["m",1,0,F.tan(c(r[0])),1,0,0]):"skewY"==e?n.push(["m",1,F.tan(c(r[0])),0,1,0,0]):n.push([e.charAt(0)].concat(r)),t}),n}function p(t,n){var e=it(t),i=new r.Matrix;if(e)for(var o=0,a=e.length;a>o;o++){var s,u,l,c,f,h=e[o],p=h.length,d=M(h[0]).toLowerCase(),g=h[0]!=d,v=g?i.invert():0;"t"==d&&2==p?i.translate(h[1],0):"t"==d&&3==p?g?(s=v.x(0,0),u=v.y(0,0),l=v.x(h[1],h[2]),c=v.y(h[1],h[2]),i.translate(l-s,c-u)):i.translate(h[1],h[2]):"r"==d?2==p?(f=f||n,i.rotate(h[1],f.x+f.width/2,f.y+f.height/2)):4==p&&(g?(l=v.x(h[2],h[3]),c=v.y(h[2],h[3]),i.rotate(h[1],l,c)):i.rotate(h[1],h[2],h[3])):"s"==d?2==p||3==p?(f=f||n,i.scale(h[1],h[p-1],f.x+f.width/2,f.y+f.height/2)):4==p?g?(l=v.x(h[2],h[3]),c=v.y(h[2],h[3]),i.scale(h[1],h[1],l,c)):i.scale(h[1],h[1],h[2],h[3]):5==p&&(g?(l=v.x(h[3],h[4]),c=v.y(h[3],h[4]),i.scale(h[1],h[2],l,c)):i.scale(h[1],h[2],h[3],h[4])):"m"==d&&7==p&&i.add(h[1],h[2],h[3],h[4],h[5],h[6])}return i}function d(t,n){if(null==n){var e=!0;if(n="linearGradient"==t.type||"radialGradient"==t.type?t.node.getAttribute("gradientTransform"):"pattern"==t.type?t.node.getAttribute("patternTransform"):t.node.getAttribute("transform"),!n)return new r.Matrix;n=h(n)}else n=r._.rgTransform.test(n)?M(n).replace(/\.{3}|\u2026/g,t._.transform||q):h(n),o(n,"array")&&(n=r.path?r.path.toString.call(n):M(n)),t._.transform=n;var i=p(n,t.getBBox(1));return e?i:void(t.matrix=i)}function v(t){var n=t.node.ownerSVGElement&&C(t.node.ownerSVGElement)||t.node.parentNode&&C(t.node.parentNode)||r.select("svg")||r(0,0),e=n.select("defs"),i=null==e?!1:e.node;return i||(i=S("defs",n.node).node),i}function m(t){return t.node.ownerSVGElement&&C(t.node.ownerSVGElement)||r.select("svg")}function y(t,n,e){function r(t){if(null==t)return q;if(t==+t)return t;i(l,{width:t});try{return l.getBBox().width}catch(n){return 0}}function o(t){if(null==t)return q;if(t==+t)return t;i(l,{height:t});try{return l.getBBox().height}catch(n){return 0}}function a(r,i){null==n?u[r]=i(t.attr(r)||0):r==n&&(u=i(null==e?t.attr(r)||0:e))}var s=m(t).node,u={},l=s.querySelector(".svg---mgr");switch(l||(l=i("rect"),i(l,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),s.appendChild(l)),t.type){case"rect":a("rx",r),a("ry",o);case"image":a("width",r),a("height",o);case"text":a("x",r),a("y",o);break;case"circle":a("cx",r),a("cy",o),a("r",r);break;case"ellipse":a("cx",r),a("cy",o),a("rx",r),a("ry",o);break;case"line":a("x1",r),a("x2",r),a("y1",o),a("y2",o);break;case"marker":a("refX",r),a("markerWidth",r),a("refY",o),a("markerHeight",o);break;case"radialGradient":a("fx",r),a("fy",o);break;case"tspan":a("dx",r),a("dy",o);break;default:a(n,r)}return s.removeChild(l),u}function x(t){o(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var n=0,e=0,r=this.node;this[n];)delete this[n++];for(n=0;n<t.length;n++)"set"==t[n].type?t[n].forEach(function(t){r.appendChild(t.node)}):r.appendChild(t[n].node);var i=r.childNodes;for(n=0;n<i.length;n++)this[e++]=C(i[n]);return this}function b(t){if(t.snap in Z)return Z[t.snap];var n,e=this.id=H();try{n=t.ownerSVGElement}catch(r){}if(this.node=t,n&&(this.paper=new k(n)),this.type=t.tagName,this.anims={},this._={transform:[]},t.snap=e,Z[e]=this,"g"==this.type&&(this.add=x),this.type in{g:1,mask:1,pattern:1})for(var i in k.prototype)k.prototype[A](i)&&(this[i]=k.prototype[i])}function w(t){this.node=t}function S(t,n){var e=i(t);n.appendChild(e);var r=C(e);return r}function k(t,n){var e,r,o,a=k.prototype;if(t&&"svg"==t.tagName){if(t.snap in Z)return Z[t.snap];var s=t.ownerDocument;e=new b(t),r=t.getElementsByTagName("desc")[0],o=t.getElementsByTagName("defs")[0],r||(r=i("desc"),r.appendChild(s.createTextNode("Created with Snap")),e.node.appendChild(r)),o||(o=i("defs"),e.node.appendChild(o)),e.defs=o;for(var u in a)a[A](u)&&(e[u]=a[u]);e.paper=e.root=e}else e=S("svg",_.doc.body),i(e.node,{height:n,version:1.1,width:t,xmlns:W});return e}function C(t){return t?t instanceof b||t instanceof w?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new k(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new k(t.contentDocument.getElementsByTagName("svg")[0]):new b(t):t}r.version="0.3.0",r.toString=function(){return"Snap v"+this.version},r._={};var _={win:t,doc:t.document};r._.glob=_;var A="hasOwnProperty",M=String,j=parseFloat,B=parseInt,F=Math,T=F.max,E=F.min,N=F.abs,P=(F.pow,F.PI),q=(F.round,""),O=" ",R=Object.prototype.toString,L=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,I="	\n\x0B\f\r   ᠎             　\u2028\u2029",z=(r._.separator=new RegExp("[,"+I+"]+"),new RegExp("["+I+"]","g"),new RegExp("["+I+"]*,["+I+"]*")),D={hs:1,rg:1},G=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),V=new RegExp("([rstm])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),U=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),X=0,$="S"+(+new Date).toString(36),H=function(){return $+(X++).toString(36)},Y="http://www.w3.org/1999/xlink",W="http://www.w3.org/2000/svg",Z={},Q=r.url=function(t){return"url('#"+t+"')"};r._.$=i,r._.id=H,r.format=function(){var t=/\{([^\}]+)\}/g,n=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,e=function(t,e,r){var i=r;return e.replace(n,function(t,n,e,r,o){n=n||r,i&&(n in i&&(i=i[n]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==r?t:i)+""};return function(n,r){return M(n).replace(t,function(t,n){return e(t,n,r)})}}(),r._.clone=a,r._.cacher=u,r.rad=c,r.deg=f,r.angle=l,r.is=o,r.snapTo=function(t,n,e){if(e=o(e,"finite")?e:10,o(t,"array")){for(var r=t.length;r--;)if(N(t[r]-n)<=e)return t[r]}else{t=+t;var i=n%t;if(e>i)return n-i;if(i>t-e)return n-i+t}return n},r.getRGB=u(function(t){if(!t||(t=M(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:nt};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:nt};if(!(D[A](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=J(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:nt};var n,e,i,a,s,u,l=t.match(L);return l?(l[2]&&(i=B(l[2].substring(5),16),e=B(l[2].substring(3,5),16),n=B(l[2].substring(1,3),16)),l[3]&&(i=B((s=l[3].charAt(3))+s,16),e=B((s=l[3].charAt(2))+s,16),n=B((s=l[3].charAt(1))+s,16)),l[4]&&(u=l[4].split(z),n=j(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),e=j(u[1]),"%"==u[1].slice(-1)&&(e*=2.55),i=j(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(a=j(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100)),l[5]?(u=l[5].split(z),n=j(u[0]),"%"==u[0].slice(-1)&&(n/=100),e=j(u[1]),"%"==u[1].slice(-1)&&(e/=100),i=j(u[2]),"%"==u[2].slice(-1)&&(i/=100),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(a=j(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100),r.hsb2rgb(n,e,i,a)):l[6]?(u=l[6].split(z),n=j(u[0]),"%"==u[0].slice(-1)&&(n/=100),e=j(u[1]),"%"==u[1].slice(-1)&&(e/=100),i=j(u[2]),"%"==u[2].slice(-1)&&(i/=100),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(a=j(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100),r.hsl2rgb(n,e,i,a)):(n=E(F.round(n),255),e=E(F.round(e),255),i=E(F.round(i),255),a=E(T(a,0),1),l={r:n,g:e,b:i,toString:nt},l.hex="#"+(16777216|i|e<<8|n<<16).toString(16).slice(1),l.opacity=o(a,"finite")?a:1,l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:nt}},r),r.hsb=u(function(t,n,e){return r.hsb2rgb(t,n,e).hex}),r.hsl=u(function(t,n,e){return r.hsl2rgb(t,n,e).hex}),r.rgb=u(function(t,n,e,r){if(o(r,"finite")){var i=F.round;return"rgba("+[i(t),i(n),i(e),+r.toFixed(2)]+")"}return"#"+(16777216|e|n<<8|t<<16).toString(16).slice(1)});var J=function(t){var n=_.doc.getElementsByTagName("head")[0]||_.doc.getElementsByTagName("svg")[0],e="rgb(255, 0, 0)";return(J=u(function(t){if("red"==t.toLowerCase())return e;n.style.color=e,n.style.color=t;var r=_.doc.defaultView.getComputedStyle(n,q).getPropertyValue("color");return r==e?null:r}))(t)},K=function(){return"hsb("+[this.h,this.s,this.b]+")"},tt=function(){return"hsl("+[this.h,this.s,this.l]+")"},nt=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},et=function(t,n,e){if(null==n&&o(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(e=t.b,n=t.g,t=t.r),null==n&&o(t,string)){var i=r.getRGB(t);t=i.r,n=i.g,e=i.b}return(t>1||n>1||e>1)&&(t/=255,n/=255,e/=255),[t,n,e]},rt=function(t,n,e,i){t=F.round(255*t),n=F.round(255*n),e=F.round(255*e);var a={r:t,g:n,b:e,opacity:o(i,"finite")?i:1,hex:r.rgb(t,n,e),toString:nt};return o(i,"finite")&&(a.opacity=i),a};r.color=function(t){var n;return o(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=r.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.opacity=1,t.hex=n.hex):o(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=r.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.opacity=1,t.hex=n.hex):(o(t,"string")&&(t=r.getRGB(t)),o(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(n=r.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=r.rgb2hsb(t),t.v=n.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=nt,t},r.hsb2rgb=function(t,n,e,r){o(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(e=t.b,n=t.s,t=t.h,r=t.o),t*=360;var i,a,s,u,l;return t=t%360/60,l=e*n,u=l*(1-N(t%2-1)),i=a=s=e-l,t=~~t,i+=[l,u,0,0,u,l][t],a+=[u,l,l,u,0,0][t],s+=[0,0,u,l,l,u][t],rt(i,a,s,r)},r.hsl2rgb=function(t,n,e,r){o(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(e=t.l,n=t.s,t=t.h),(t>1||n>1||e>1)&&(t/=360,n/=100,e/=100),t*=360;var i,a,s,u,l;return t=t%360/60,l=2*n*(.5>e?e:1-e),u=l*(1-N(t%2-1)),i=a=s=e-l/2,t=~~t,i+=[l,u,0,0,u,l][t],a+=[u,l,l,u,0,0][t],s+=[0,0,u,l,l,u][t],rt(i,a,s,r)},r.rgb2hsb=function(t,n,e){e=et(t,n,e),t=e[0],n=e[1],e=e[2];var r,i,o,a;return o=T(t,n,e),a=o-E(t,n,e),r=0==a?null:o==t?(n-e)/a:o==n?(e-t)/a+2:(t-n)/a+4,r=(r+360)%6*60/360,i=0==a?0:a/o,{h:r,s:i,b:o,toString:K}},r.rgb2hsl=function(t,n,e){e=et(t,n,e),t=e[0],n=e[1],e=e[2];var r,i,o,a,s,u;return a=T(t,n,e),s=E(t,n,e),u=a-s,r=0==u?null:a==t?(n-e)/u:a==n?(e-t)/u+2:(t-n)/u+4,r=(r+360)%6*60/360,o=(a+s)/2,i=0==u?0:.5>o?u/(2*o):u/(2-2*o),{h:r,s:i,l:o,toString:tt
}},r.parsePathString=function(t){if(!t)return null;var n=r.path(t);if(n.arr)return r.path.clone(n.arr);var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return o(t,"array")&&o(t[0],"array")&&(i=r.path.clone(t)),i.length||M(t).replace(G,function(t,n,r){var o=[],a=n.toLowerCase();if(r.replace(U,function(t,n){n&&o.push(+n)}),"m"==a&&o.length>2&&(i.push([n].concat(o.splice(0,2))),a="l",n="m"==n?"l":"L"),"o"==a&&1==o.length&&i.push([n,o[0]]),"r"==a)i.push([n].concat(o));else for(;o.length>=e[a]&&(i.push([n].concat(o.splice(0,e[a]))),e[a]););}),i.toString=r.path.toString,n.arr=r.path.clone(i),i};var it=r.parseTransformString=function(t){if(!t)return null;var n=[];return o(t,"array")&&o(t[0],"array")&&(n=r.path.clone(t)),n.length||M(t).replace(V,function(t,e,r){var i=[];e.toLowerCase();r.replace(U,function(t,n){n&&i.push(+n)}),n.push([e].concat(i))}),n.toString=r.path.toString,n};r._.svgTransform2string=h,r._.rgTransform=new RegExp("^[a-z]["+I+"]*-?\\.?\\d","i"),r._.transform2matrix=p,r._unit2px=y;_.doc.contains||_.doc.compareDocumentPosition?function(t,n){var e=9==t.nodeType?t.documentElement:t,r=n&&n.parentNode;return t==r||!(!r||1!=r.nodeType||!(e.contains?e.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,n){if(n)for(;n;)if(n=n.parentNode,n==t)return!0;return!1};r._.getSomeDefs=v,r._.getSomeSVG=m,r.select=function(t){return C(_.doc.querySelector(t))},r.selectAll=function(t){for(var n=_.doc.querySelectorAll(t),e=(r.set||Array)(),i=0;i<n.length;i++)e.push(C(n[i]));return e},setInterval(function(){for(var t in Z)if(Z[A](t)){var n=Z[t],e=n.node;("svg"!=n.type&&!e.ownerSVGElement||"svg"==n.type&&(!e.parentNode||"ownerSVGElement"in e.parentNode&&!e.ownerSVGElement))&&delete Z[t]}},1e4),function(t){function a(t){function n(t,n){var e=i(t.node,n);e=e&&e.match(a),e=e&&e[2],e&&"#"==e.charAt()&&(e=e.substring(1),e&&(u[e]=(u[e]||[]).concat(function(e){var r={};r[n]=Q(e),i(t.node,r)})))}function e(t){var n=i(t.node,"xlink:href");n&&"#"==n.charAt()&&(n=n.substring(1),n&&(u[n]=(u[n]||[]).concat(function(n){t.attr("xlink:href","#"+n)})))}for(var r,o=t.selectAll("*"),a=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],u={},l=0,c=o.length;c>l;l++){r=o[l],n(r,"fill"),n(r,"stroke"),n(r,"filter"),n(r,"mask"),n(r,"clip-path"),e(r);var f=i(r.node,"id");f&&(i(r.node,{id:r.id}),s.push({old:f,id:r.id}))}for(l=0,c=s.length;c>l;l++){var h=u[s[l].old];if(h)for(var p=0,d=h.length;d>p;p++)h[p](s[l].id)}}function s(t,n,e){return function(r){var i=r.slice(t,n);return 1==i.length&&(i=i[0]),e?e(i):i}}function u(t){return function(){var n=t?"<"+this.type:"",e=this.node.attributes,r=this.node.childNodes;if(t)for(var i=0,o=e.length;o>i;i++)n+=" "+e[i].name+'="'+e[i].value.replace(/"/g,'\\"')+'"';if(r.length){for(t&&(n+=">"),i=0,o=r.length;o>i;i++)3==r[i].nodeType?n+=r[i].nodeValue:1==r[i].nodeType&&(n+=C(r[i]).toString());t&&(n+="</"+this.type+">")}else t&&(n+="/>");return n}}t.attr=function(t,e){var r=this;r.node;if(!t)return r;if(o(t,"string")){if(!(arguments.length>1))return n("snap.util.getattr."+t,r).firstDefined();var i={};i[t]=e,t=i}for(var a in t)t[A](a)&&n("snap.util.attr."+a,r,t[a]);return r},t.getBBox=function(t){if(!r.Matrix||!r.path)return this.node.getBBox();var n=this,e=new r.Matrix;if(n.removed)return r._.box();for(;"use"==n.type;)if(t||(e=e.add(n.transform().localMatrix.translate(n.attr("x")||0,n.attr("y")||0))),n.original)n=n.original;else{var i=n.attr("xlink:href");n=n.original=n.node.ownerDocument.getElementById(i.substring(i.indexOf("#")+1))}var o=n._,a=r.path.get[n.type]||r.path.get.deflt;try{return t?(o.bboxwt=a?r.path.getBBox(n.realPath=a(n)):r._.box(n.node.getBBox()),r._.box(o.bboxwt)):(n.realPath=a(n),n.matrix=n.transform().localMatrix,o.bbox=r.path.getBBox(r.path.map(n.realPath,e.add(n.matrix))),r._.box(o.bbox))}catch(s){return r._.box()}};var l=function(){return this.string};t.transform=function(t){var n=this._;if(null==t){for(var e,o=this,a=new r.Matrix(this.node.getCTM()),s=d(this),u=[s],c=new r.Matrix,f=s.toTransformString(),h=M(s)==M(this.matrix)?M(n.transform):f;"svg"!=o.type&&(o=o.parent());)u.push(d(o));for(e=u.length;e--;)c.add(u[e]);return{string:h,globalMatrix:a,totalMatrix:c,localMatrix:s,diffMatrix:a.clone().add(s.invert()),global:a.toTransformString(),total:c.toTransformString(),local:f,toString:l}}return t instanceof r.Matrix?this.matrix=t:d(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?i(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?i(this.node,{patternTransform:this.matrix}):i(this.node,{transform:this.matrix})),this},t.parent=function(){return C(this.node.parentNode)},t.append=t.add=function(t){if(t){if("set"==t.type){var n=this;return t.forEach(function(t){n.add(t)}),this}t=C(t),this.node.appendChild(t.node),t.paper=this.paper}return this},t.appendTo=function(t){return t&&(t=C(t),t.append(this)),this},t.prepend=function(t){if(t){if("set"==t.type){var n,e=this;return t.forEach(function(t){n?n.after(t):e.prepend(t),n=t}),this}t=C(t);var r=t.parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},t.prependTo=function(t){return t=C(t),t.prepend(this),this},t.before=function(t){if("set"==t.type){var n=this;return t.forEach(function(t){var e=t.parent();n.node.parentNode.insertBefore(t.node,n.node),e&&e.add()}),this.parent().add(),this}t=C(t);var e=t.parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},t.after=function(t){t=C(t);var n=t.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),n&&n.add(),t.paper=this.paper,this},t.insertBefore=function(t){t=C(t);var n=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,n&&n.add(),t.parent()&&t.parent().add(),this},t.insertAfter=function(t){t=C(t);var n=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,n&&n.add(),t.parent()&&t.parent().add(),this},t.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},t.select=function(t){return C(this.node.querySelector(t))},t.selectAll=function(t){for(var n=this.node.querySelectorAll(t),e=(r.set||Array)(),i=0;i<n.length;i++)e.push(C(n[i]));return e},t.asPX=function(t,n){return null==n&&(n=this.attr(t)),+y(this,t,n)},t.use=function(){var t,n=this.node.id;return n||(n=this.id,i(this.node,{id:n})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?S(this.type,this.node.parentNode):S("use",this.node.parentNode),i(t.node,{"xlink:href":"#"+n}),t.original=this,t};var c=/\S+/g;t.addClass=function(t){var n,e,r,i,o=(t||"").match(c)||[],a=this.node,s=a.className.baseVal,u=s.match(c)||[];if(o.length){for(n=0;r=o[n++];)e=u.indexOf(r),~e||u.push(r);i=u.join(" "),s!=i&&(a.className.baseVal=i)}return this},t.removeClass=function(t){var n,e,r,i,o=(t||"").match(c)||[],a=this.node,s=a.className.baseVal,u=s.match(c)||[];if(u.length){for(n=0;r=o[n++];)e=u.indexOf(r),~e&&u.splice(e,1);i=u.join(" "),s!=i&&(a.className.baseVal=i)}return this},t.hasClass=function(t){var n=this.node,e=n.className.baseVal,r=e.match(c)||[];return!!~r.indexOf(t)},t.toggleClass=function(t,n){if(null!=n)return n?this.addClass(t):this.removeClass(t);var e,r,i,o,a=(t||"").match(c)||[],s=this.node,u=s.className.baseVal,l=u.match(c)||[];for(e=0;i=a[e++];)r=l.indexOf(i),~r?l.splice(r,1):l.push(i);return o=l.join(" "),u!=o&&(s.className.baseVal=o),this},t.clone=function(){var t=C(this.node.cloneNode(!0));return i(t.node,"id")&&i(t.node,{id:t.id}),a(t),t.insertAfter(this),t},t.toDefs=function(){var t=v(this);return t.appendChild(this.node),this},t.pattern=t.toPattern=function(t,n,e,r){var a=S("pattern",v(this));return null==t&&(t=this.getBBox()),o(t,"object")&&"x"in t&&(n=t.y,e=t.width,r=t.height,t=t.x),i(a.node,{x:t,y:n,width:e,height:r,patternUnits:"userSpaceOnUse",id:a.id,viewBox:[t,n,e,r].join(" ")}),a.node.appendChild(this.node),a},t.marker=function(t,n,e,r,a,s){var u=S("marker",v(this));return null==t&&(t=this.getBBox()),o(t,"object")&&"x"in t&&(n=t.y,e=t.width,r=t.height,a=t.refX||t.cx,s=t.refY||t.cy,t=t.x),i(u.node,{viewBox:[t,n,e,r].join(O),markerWidth:e,markerHeight:r,orient:"auto",refX:a||0,refY:s||0,id:u.id}),u.node.appendChild(this.node),u};var f=function(t,n,r,i){"function"!=typeof r||r.length||(i=r,r=e.linear),this.attr=t,this.dur=n,r&&(this.easing=r),i&&(this.callback=i)};r._.Animation=f,r.animation=function(t,n,e,r){return new f(t,n,e,r)},t.inAnim=function(){var t=this,n=[];for(var e in t.anims)t.anims[A](e)&&!function(t){n.push({anim:new f(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(n){return t.status(n)},stop:function(){t.stop()}})}(t.anims[e]);return n},r.animate=function(t,r,i,o,a,s){"function"!=typeof a||a.length||(s=a,a=e.linear);var u=e.time(),l=e(t,r,u,u+o,e.time,i,a);return s&&n.once("mina.finish."+l.id,s),l},t.stop=function(){for(var t=this.inAnim(),n=0,e=t.length;e>n;n++)t[n].stop();return this},t.animate=function(t,r,i,a){"function"!=typeof i||i.length||(a=i,i=e.linear),t instanceof f&&(a=t.callback,i=t.easing,r=i.dur,t=t.attr);var u,l,c,h,p=[],d=[],g={},v=this;for(var m in t)if(t[A](m)){v.equal?(h=v.equal(m,M(t[m])),u=h.from,l=h.to,c=h.f):(u=+v.attr(m),l=+t[m]);var y=o(u,"array")?u.length:1;g[m]=s(p.length,p.length+y,c),p=p.concat(u),d=d.concat(l)}var x=e.time(),b=e(p,d,x,x+r,e.time,function(t){var n={};for(var e in g)g[A](e)&&(n[e]=g[e](t));v.attr(n)},i);return v.anims[b.id]=b,b._attrs=t,b._callback=a,n("snap.animcreated."+v.id,b),n.once("mina.finish."+b.id,function(){delete v.anims[b.id],a&&a.call(v)}),n.once("mina.stop."+b.id,function(){delete v.anims[b.id]}),v};var h={};t.data=function(t,e){var i=h[this.id]=h[this.id]||{};if(0==arguments.length)return n("snap.data.get."+this.id,this,i,null),i;if(1==arguments.length){if(r.is(t,"object")){for(var o in t)t[A](o)&&this.data(o,t[o]);return this}return n("snap.data.get."+this.id,this,i[t],t),i[t]}return i[t]=e,n("snap.data.set."+this.id,this,e,t),this},t.removeData=function(t){return null==t?h[this.id]={}:h[this.id]&&delete h[this.id][t],this},t.outerSVG=t.toString=u(1),t.innerSVG=u()}(b.prototype),r.parse=function(t){var n=_.doc.createDocumentFragment(),e=!0,r=_.doc.createElement("div");if(t=M(t),t.match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",e=!1),r.innerHTML=t,t=r.getElementsByTagName("svg")[0])if(e)n=t;else for(;t.firstChild;)n.appendChild(t.firstChild);return r.innerHTML=q,new w(n)},w.prototype.select=b.prototype.select,w.prototype.selectAll=b.prototype.selectAll,r.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),n=_.doc.createDocumentFragment(),e=0,i=t.length;i>e;e++){var o=t[e];o.node&&o.node.nodeType&&n.appendChild(o.node),o.nodeType&&n.appendChild(o),"string"==typeof o&&n.appendChild(r.parse(o).node)}return new w(n)},r._.make=S,r._.wrap=C,k.prototype.el=function(t,n){var e=S(t,this.node);return n&&e.attr(n),e},n.on("snap.util.getattr",function(){var t=n.nt();t=t.substring(t.lastIndexOf(".")+1);var e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return ot[A](e)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(e):i(this.node,t)});var ot={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};n.on("snap.util.attr",function(t){var e=n.nt(),r={};e=e.substring(e.lastIndexOf(".")+1),r[e]=t;var o=e.replace(/-(\w)/gi,function(t,n){return n.toUpperCase()}),a=e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});ot[A](a)?this.node.style[o]=null==t?q:t:i(this.node,r)}),function(t){}(k.prototype),r.ajax=function(t,e,r,i){var a=new XMLHttpRequest,s=H();if(a){if(o(e,"function"))i=r,r=e,e=null;else if(o(e,"object")){var u=[];for(var l in e)e.hasOwnProperty(l)&&u.push(encodeURIComponent(l)+"="+encodeURIComponent(e[l]));e=u.join("&")}return a.open(e?"POST":"GET",t,!0),e&&(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(n.once("snap.ajax."+s+".0",r),n.once("snap.ajax."+s+".200",r),n.once("snap.ajax."+s+".304",r)),a.onreadystatechange=function(){4==a.readyState&&n("snap.ajax."+s+"."+a.status,i,a)},4==a.readyState?a:(a.send(e),a)}},r.load=function(t,n,e){r.ajax(t,function(t){var i=r.parse(t.responseText);e?n.call(e,i):n(i)})};var at=function(t){var n=t.getBoundingClientRect(),e=t.ownerDocument,r=e.body,i=e.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,s=n.top+(g.win.pageYOffset||i.scrollTop||r.scrollTop)-o,u=n.left+(g.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a;return{y:s,x:u}};return r.getElementByPoint=function(t,n){var e=this,r=(e.canvas,_.doc.elementFromPoint(t,n));if(_.win.opera&&"svg"==r.tagName){var i=at(r),o=r.createSVGRect();o.x=t-i.x,o.y=n-i.y,o.width=o.height=1;var a=r.getIntersectionList(o,null);a.length&&(r=a[a.length-1])}return r?C(r):null},r.plugin=function(t){t(r,b,k,_,w)},_.win.Snap=r,r}();return r.plugin(function(t,n,e,r,i){function o(t,n,e,r,i,o){return null==n&&"[object SVGMatrix]"==a.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+n,this.c=+e,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var a=Object.prototype.toString,s=String,u=Math,l="";!function(n){function e(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var n=u.sqrt(e(t));t[0]&&(t[0]/=n),t[1]&&(t[1]/=n)}n.add=function(t,n,e,r,i,a){var s,u,l,c,f=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,e,i],[n,r,a],[0,0,1]];for(t&&t instanceof o&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(u=0;3>u;u++){for(c=0,l=0;3>l;l++)c+=h[s][l]*p[l][u];f[s][u]=c}return this.a=f[0][0],this.b=f[1][0],this.c=f[0][1],this.d=f[1][1],this.e=f[0][2],this.f=f[1][2],this},n.invert=function(){var t=this,n=t.a*t.d-t.b*t.c;return new o(t.d/n,-t.b/n,-t.c/n,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.b*t.e-t.a*t.f)/n)},n.clone=function(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)},n.translate=function(t,n){return this.add(1,0,0,1,t,n)},n.scale=function(t,n,e,r){return null==n&&(n=t),(e||r)&&this.add(1,0,0,1,e,r),this.add(t,0,0,n,0,0),(e||r)&&this.add(1,0,0,1,-e,-r),this},n.rotate=function(n,e,r){n=t.rad(n),e=e||0,r=r||0;var i=+u.cos(n).toFixed(9),o=+u.sin(n).toFixed(9);return this.add(i,o,-o,i,e,r),this.add(1,0,0,1,-e,-r)},n.x=function(t,n){return t*this.a+n*this.c+this.e},n.y=function(t,n){return t*this.b+n*this.d+this.f},n.get=function(t){return+this[s.fromCharCode(97+t)].toFixed(4)},n.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},n.determinant=function(){return this.a*this.d-this.b*this.c},n.split=function(){var n={};n.dx=this.e,n.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];n.scalex=u.sqrt(e(i[0])),r(i[0]),n.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*n.shear,i[1][1]-i[0][1]*n.shear],n.scaley=u.sqrt(e(i[1])),r(i[1]),n.shear/=n.scaley,this.determinant()<0&&(n.scalex=-n.scalex);var o=-i[0][1],a=i[1][1];return 0>a?(n.rotate=t.deg(u.acos(a)),0>o&&(n.rotate=360-n.rotate)):n.rotate=t.deg(u.asin(o)),n.isSimple=!(+n.shear.toFixed(9)||n.scalex.toFixed(9)!=n.scaley.toFixed(9)&&n.rotate),n.isSuperSimple=!+n.shear.toFixed(9)&&n.scalex.toFixed(9)==n.scaley.toFixed(9)&&!n.rotate,n.noRotation=!+n.shear.toFixed(9)&&!n.rotate,n},n.toTransformString=function(t){var n=t||this.split();return+n.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(n.scalex=+n.scalex.toFixed(4),n.scaley=+n.scaley.toFixed(4),n.rotate=+n.rotate.toFixed(4),(n.dx||n.dy?"t"+[+n.dx.toFixed(4),+n.dy.toFixed(4)]:l)+(1!=n.scalex||1!=n.scaley?"s"+[n.scalex,n.scaley,0,0]:l)+(n.rotate?"r"+[+n.rotate.toFixed(4),0,0]:l))}}(o.prototype),t.Matrix=o,t.matrix=function(t,n,e,r,i,a){return new o(t,n,e,r,i,a)}}),r.plugin(function(t,e,r,i,o){function a(r){return function(i){if(n.stop(),i instanceof o&&1==i.node.childNodes.length&&("radialGradient"==i.node.firstChild.tagName||"linearGradient"==i.node.firstChild.tagName||"pattern"==i.node.firstChild.tagName)&&(i=i.node.firstChild,p(this).appendChild(i),i=f(i)),i instanceof e)if("radialGradient"==i.type||"linearGradient"==i.type||"pattern"==i.type){i.node.id||g(i.node,{id:i.id});var a=v(i.node.id)}else a=i.attr(r);else if(a=t.color(i),a.error){var s=t(p(this).ownerSVGElement).gradient(i);s?(s.node.id||g(s.node,{id:s.id}),a=v(s.node.id)):a=i}else a=m(a);var u={};u[r]=a,g(this.node,u),this.node.style[r]=x}}function s(t){n.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function u(t){for(var n=[],e=t.childNodes,r=0,i=e.length;i>r;r++){var o=e[r];3==o.nodeType&&n.push(o.nodeValue),"tspan"==o.tagName&&(1==o.childNodes.length&&3==o.firstChild.nodeType?n.push(o.firstChild.nodeValue):n.push(u(o)))}return n}function l(){return n.stop(),this.node.style.fontSize}var c=t._.make,f=t._.wrap,h=t.is,p=t._.getSomeDefs,d=/^url\(#?([^)]+)\)$/,g=t._.$,v=t.url,m=String,y=t._.separator,x="";n.on("snap.util.attr.mask",function(t){if(t instanceof e||t instanceof o){if(n.stop(),t instanceof o&&1==t.node.childNodes.length&&(t=t.node.firstChild,p(this).appendChild(t),t=f(t)),"mask"==t.type)var r=t;else r=c("mask",p(this)),r.node.appendChild(t.node);!r.node.id&&g(r.node,{id:r.id}),g(this.node,{mask:v(r.id)})}}),function(t){n.on("snap.util.attr.clip",t),n.on("snap.util.attr.clip-path",t),n.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof e||t instanceof o){if(n.stop(),"clipPath"==t.type)var r=t;else r=c("clipPath",p(this)),r.node.appendChild(t.node),!r.node.id&&g(r.node,{id:r.id});g(this.node,{"clip-path":v(r.id)})}}),n.on("snap.util.attr.fill",a("fill")),n.on("snap.util.attr.stroke",a("stroke"));var b=/^([lr])(?:\(([^)]*)\))?(.*)$/i;n.on("snap.util.grad.parse",function(t){t=m(t);var n=t.match(b);if(!n)return null;var e=n[1],r=n[2],i=n[3];return r=r.split(/\s*,\s*/).map(function(t){return+t==t?+t:t}),1==r.length&&0==r[0]&&(r=[]),i=i.split("-"),i=i.map(function(t){t=t.split(":");var n={color:t[0]};return t[1]&&(n.offset=parseFloat(t[1])),n}),{type:e,params:r,stops:i}}),n.on("snap.util.attr.d",function(e){n.stop(),h(e,"array")&&h(e[0],"array")&&(e=t.path.toString.call(e)),e=m(e),e.match(/[ruo]/i)&&(e=t.path.toAbsolute(e)),g(this.node,{d:e})})(-1),n.on("snap.util.attr.#text",function(t){n.stop(),t=m(t);for(var e=i.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(e)})(-1),n.on("snap.util.attr.path",function(t){n.stop(),this.attr({d:t})})(-1),n.on("snap.util.attr.class",function(t){n.stop(),this.node.className.baseVal=t})(-1),n.on("snap.util.attr.viewBox",function(t){var e;e=h(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):h(t,"array")?t.join(" "):t,g(this.node,{viewBox:e}),n.stop()})(-1),n.on("snap.util.attr.transform",function(t){this.transform(t),n.stop()})(-1),n.on("snap.util.attr.r",function(t){"rect"==this.type&&(n.stop(),g(this.node,{rx:t,ry:t}))})(-1),n.on("snap.util.attr.textpath",function(t){if(n.stop(),"text"==this.type){var r,i,o;if(!t&&this.textPath){for(i=this.textPath;i.node.firstChild;)this.node.appendChild(i.node.firstChild);return i.remove(),void delete this.textPath}if(h(t,"string")){var a=p(this),s=f(a.parentNode).path(t);a.appendChild(s.node),r=s.id,s.attr({id:r})}else t=f(t),t instanceof e&&(r=t.attr("id"),r||(r=t.id,t.attr({id:r})));if(r)if(i=this.textPath,o=this.node,i)i.attr({"xlink:href":"#"+r});else{for(i=g("textPath",{"xlink:href":"#"+r});o.firstChild;)i.appendChild(o.firstChild);o.appendChild(i),this.textPath=f(i)}}})(-1),n.on("snap.util.attr.text",function(t){if("text"==this.type){for(var e=this.node,r=function(t){var n=g("tspan");if(h(t,"array"))for(var e=0;e<t.length;e++)n.appendChild(r(t[e]));else n.appendChild(i.doc.createTextNode(t));return n.normalize&&n.normalize(),n};e.firstChild;)e.removeChild(e.firstChild);for(var o=r(t);o.firstChild;)e.appendChild(o.firstChild)}n.stop()})(-1),n.on("snap.util.attr.fontSize",s)(-1),n.on("snap.util.attr.font-size",s)(-1),n.on("snap.util.getattr.transform",function(){return n.stop(),this.transform()})(-1),n.on("snap.util.getattr.textpath",function(){return n.stop(),this.textPath})(-1),function(){function e(e){return function(){n.stop();var r=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+e);return"none"==r?r:t(i.doc.getElementById(r.match(d)[1]))}}function r(t){return function(e){n.stop();var r="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""==e||!e)return void(this.node.style[r]="none");if("marker"==e.type){var i=e.node.id;return i||g(e.node,{id:e.id}),void(this.node.style[r]=v(i))}}}n.on("snap.util.getattr.marker-end",e("end"))(-1),n.on("snap.util.getattr.markerEnd",e("end"))(-1),n.on("snap.util.getattr.marker-start",e("start"))(-1),n.on("snap.util.getattr.markerStart",e("start"))(-1),n.on("snap.util.getattr.marker-mid",e("mid"))(-1),n.on("snap.util.getattr.markerMid",e("mid"))(-1),n.on("snap.util.attr.marker-end",r("end"))(-1),n.on("snap.util.attr.markerEnd",r("end"))(-1),n.on("snap.util.attr.marker-start",r("start"))(-1),n.on("snap.util.attr.markerStart",r("start"))(-1),n.on("snap.util.attr.marker-mid",r("mid"))(-1),n.on("snap.util.attr.markerMid",r("mid"))(-1)}(),n.on("snap.util.getattr.r",function(){return"rect"==this.type&&g(this.node,"rx")==g(this.node,"ry")?(n.stop(),g(this.node,"rx")):void 0})(-1),n.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){n.stop();var t=u(this.node);return 1==t.length?t[0]:t}})(-1),n.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),n.on("snap.util.getattr.viewBox",function(){n.stop();var e=g(this.node,"viewBox");return e?(e=e.split(y),t._.box(+e[0],+e[1],+e[2],+e[3])):void 0})(-1),n.on("snap.util.getattr.points",function(){var t=g(this.node,"points");return n.stop(),t?t.split(y):void 0})(-1),n.on("snap.util.getattr.path",function(){var t=g(this.node,"d");return n.stop(),t})(-1),n.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),n.on("snap.util.getattr.fontSize",l)(-1),n.on("snap.util.getattr.font-size",l)(-1)}),r.plugin(function(t,e,r,i,o){function a(t){return t}function s(t){return function(n){return+n.toFixed(3)+t}}var u={"+":function(t,n){return t+n},"-":function(t,n){return t-n},"/":function(t,n){return t/n},"*":function(t,n){return t*n}},l=String,c=/[a-z]+$/i,f=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;n.on("snap.util.attr",function(t){var e=l(t).match(f);if(e){var r=n.nt(),i=r.substring(r.lastIndexOf(".")+1),o=this.attr(i),a={};n.stop();var s=e[3]||"",h=o.match(c),p=u[e[1]];if(h&&h==s?t=p(parseFloat(o),+e[2]):(o=this.asPX(i),t=p(this.asPX(i),this.asPX(i,e[2]+s))),isNaN(o)||isNaN(t))return;a[i]=t,this.attr(a)}})(-10),n.on("snap.util.equal",function(t,e){var r=l(this.attr(t)||""),i=l(e).match(f);if(i){n.stop();var o=i[3]||"",h=r.match(c),p=u[i[1]];return h&&h==o?{from:parseFloat(r),to:p(parseFloat(r),+i[2]),f:s(h)}:(r=this.asPX(t),{from:r,to:p(r,this.asPX(t,i[2]+o)),f:a})}})(-10)}),r.plugin(function(t,e,r,i,o){var a=r.prototype,s=t.is;a.rect=function(t,n,e,r,i,o){var a;return null==o&&(o=i),s(t,"object")&&"[object Object]"==t?a=t:null!=t&&(a={x:t,y:n,width:e,height:r},null!=i&&(a.rx=i,a.ry=o)),this.el("rect",a)},a.circle=function(t,n,e){var r;return s(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:n,r:e}),this.el("circle",r)};var u=function(){function t(){this.parentNode.removeChild(this)}return function(n,e){var r=i.doc.createElement("img"),o=i.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(r),r.onload=r.onerror=null,o.removeChild(r)},r.onerror=t,o.appendChild(r),r.src=n}}();a.image=function(n,e,r,i,o){var a=this.el("image");if(s(n,"object")&&"src"in n)a.attr(n);else if(null!=n){var l={"xlink:href":n,preserveAspectRatio:"none"};null!=e&&null!=r&&(l.x=e,l.y=r),null!=i&&null!=o?(l.width=i,l.height=o):u(n,function(){t._.$(a.node,{width:this.offsetWidth,height:this.offsetHeight})}),t._.$(a.node,l)}return a},a.ellipse=function(t,n,e,r){var i;return s(t,"object")&&"[object Object]"==t?i=t:null!=t&&(i={cx:t,cy:n,rx:e,ry:r}),this.el("ellipse",i)},a.path=function(t){var n;return s(t,"object")&&!s(t,"array")?n=t:t&&(n={d:t}),this.el("path",n)},a.group=a.g=function(t){var n=this.el("g");return 1==arguments.length&&t&&!t.type?n.attr(t):arguments.length&&n.add(Array.prototype.slice.call(arguments,0)),n},a.svg=function(t,n,e,r,i,o,a,u){var l={};return s(t,"object")&&null==n?l=t:(null!=t&&(l.x=t),null!=n&&(l.y=n),null!=e&&(l.width=e),null!=r&&(l.height=r),null!=i&&null!=o&&null!=a&&null!=u&&(l.viewBox=[i,o,a,u])),this.el("svg",l)},a.mask=function(t){var n=this.el("mask");return 1==arguments.length&&t&&!t.type?n.attr(t):arguments.length&&n.add(Array.prototype.slice.call(arguments,0)),n},a.ptrn=function(t,n,e,r,i,o,a,u){if(s(t,"object"))var l=t;else arguments.length?(l={},null!=t&&(l.x=t),null!=n&&(l.y=n),null!=e&&(l.width=e),null!=r&&(l.height=r),null!=i&&null!=o&&null!=a&&null!=u&&(l.viewBox=[i,o,a,u])):l={patternUnits:"userSpaceOnUse"};return this.el("pattern",l)},a.use=function(t){if(null!=t){make("use",this.node);return t instanceof e&&(t.attr("id")||t.attr({id:ID()}),t=t.attr("id")),this.el("use",{"xlink:href":t})}return e.prototype.use.call(this)},a.text=function(t,n,e){var r={};return s(t,"object")?r=t:null!=t&&(r={x:t,y:n,text:e||""}),this.el("text",r)},a.line=function(t,n,e,r){var i={};return s(t,"object")?i=t:null!=t&&(i={x1:t,x2:e,y1:n,y2:r}),this.el("line",i)},a.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var n={};return s(t,"object")&&!s(t,"array")?n=t:null!=t&&(n={points:t}),this.el("polyline",n)},a.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var n={};return s(t,"object")&&!s(t,"array")?n=t:null!=t&&(n={points:t}),this.el("polygon",n)},function(){function e(){return this.selectAll("stop")}function r(n,e){var r=l("stop"),i={offset:+e+"%"};return n=t.color(n),i["stop-color"]=n.hex,n.opacity<1&&(i["stop-opacity"]=n.opacity),l(r,i),this.node.appendChild(r),this}function i(){if("linearGradient"==this.type){var n=l(this.node,"x1")||0,e=l(this.node,"x2")||1,r=l(this.node,"y1")||0,i=l(this.node,"y2")||0;return t._.box(n,r,math.abs(e-n),math.abs(i-r))}var o=this.node.cx||.5,a=this.node.cy||.5,s=this.node.r||0;return t._.box(o-s,a-s,2*s,2*s)}function o(t,e){function r(t,n){for(var e=(n-f)/(t-h),r=h;t>r;r++)a[r].offset=+(+f+e*(r-h)).toFixed(2);h=t,f=n}var i,o=n("snap.util.grad.parse",null,e).firstDefined();if(!o)return null;o.params.unshift(t),i="l"==o.type.toLowerCase()?s.apply(0,o.params):u.apply(0,o.params),o.type!=o.type.toLowerCase()&&l(i.node,{gradientUnits:"userSpaceOnUse"});var a=o.stops,c=a.length,f=0,h=0;c--;for(var p=0;c>p;p++)"offset"in a[p]&&r(p,a[p].offset);for(a[c].offset=a[c].offset||100,r(c,a[c].offset),p=0;c>=p;p++){var d=a[p];i.addStop(d.color,d.offset)}return i}function s(n,o,a,s,u){var c=t._.make("linearGradient",n);return c.stops=e,c.addStop=r,c.getBBox=i,null!=o&&l(c.node,{x1:o,y1:a,x2:s,y2:u}),c}function u(n,o,a,s,u,c){var f=t._.make("radialGradient",n);return f.stops=e,f.addStop=r,f.getBBox=i,null!=o&&l(f.node,{cx:o,cy:a,r:s}),null!=u&&null!=c&&l(f.node,{fx:u,fy:c}),f}var l=t._.$;a.gradient=function(t){return o(this.defs,t)},a.gradientLinear=function(t,n,e,r){return s(this.defs,t,n,e,r)},a.gradientRadial=function(t,n,e,r,i){return u(this.defs,t,n,e,r,i)},a.toString=function(){var n,e=this.node.ownerDocument,r=e.createDocumentFragment(),i=e.createElement("div"),o=this.node.cloneNode(!0);return r.appendChild(i),i.appendChild(o),t._.$(o,{xmlns:"http://www.w3.org/2000/svg"}),n=i.innerHTML,r.removeChild(r.firstChild),n},a.clear=function(){for(var t,n=this.node.firstChild;n;)t=n.nextSibling,"defs"!=n.tagName?n.parentNode.removeChild(n):a.clear.call({node:n}),n=t}}()}),r.plugin(function(t,n,e,r){function i(t){var n=i.ps=i.ps||{};return n[t]?n[t].sleep=100:n[t]={sleep:100},setTimeout(function(){for(var e in n)n[L](e)&&e!=t&&(n[e].sleep--,!n[e].sleep&&delete n[e])}),n[t]}function o(t,n,e,r){return null==t&&(t=n=e=r=0),null==n&&(n=t.y,e=t.width,r=t.height,t=t.x),{x:t,y:n,width:e,w:e,height:r,h:r,x2:t+e,y2:n+r,cx:t+e/2,cy:n+r/2,r1:D.min(e,r)/2,r2:D.max(e,r)/2,r0:D.sqrt(e*e+r*r)/2,path:C(t,n,e,r),vb:[t,n,e,r].join(" ")}}function a(){return this.join(",").replace(I,"$1")}function s(t){var n=R(t);return n.toString=a,n}function u(t,n,e,r,i,o,a,s,u){return null==u?g(t,n,e,r,i,o,a,s):c(t,n,e,r,i,o,a,s,v(t,n,e,r,i,o,a,s,u))}function l(e,r){function i(t){return+(+t).toFixed(3)}return t._.cacher(function(t,o,a){t instanceof n&&(t=t.attr("d")),t=E(t);for(var s,l,f,h,p,d="",g={},v=0,m=0,y=t.length;y>m;m++){if(f=t[m],"M"==f[0])s=+f[1],l=+f[2];else{if(h=u(s,l,f[1],f[2],f[3],f[4],f[5],f[6]),v+h>o){if(r&&!g.start){if(p=u(s,l,f[1],f[2],f[3],f[4],f[5],f[6],o-v),d+=["C"+i(p.start.x),i(p.start.y),i(p.m.x),i(p.m.y),i(p.x),i(p.y)],a)return d;g.start=d,d=["M"+i(p.x),i(p.y)+"C"+i(p.n.x),i(p.n.y),i(p.end.x),i(p.end.y),i(f[5]),i(f[6])].join(),v+=h,s=+f[5],l=+f[6];continue}if(!e&&!r)return p=u(s,l,f[1],f[2],f[3],f[4],f[5],f[6],o-v)}v+=h,s=+f[5],l=+f[6]}d+=f.shift()+f}return g.end=d,p=e?v:r?g:c(s,l,f[0],f[1],f[2],f[3],f[4],f[5],1)},null,t._.clone)}function c(t,n,e,r,i,o,a,s,u){var l=1-u,c=X(l,3),f=X(l,2),h=u*u,p=h*u,d=c*t+3*f*u*e+3*l*u*u*i+p*a,g=c*n+3*f*u*r+3*l*u*u*o+p*s,v=t+2*u*(e-t)+h*(i-2*e+t),m=n+2*u*(r-n)+h*(o-2*r+n),y=e+2*u*(i-e)+h*(a-2*i+e),x=r+2*u*(o-r)+h*(s-2*o+r),b=l*t+u*e,w=l*n+u*r,S=l*i+u*a,k=l*o+u*s,C=90-180*D.atan2(v-y,m-x)/G;return{x:d,y:g,m:{x:v,y:m},n:{x:y,y:x},start:{x:b,y:w},end:{x:S,y:k},alpha:C}}function f(n,e,r,i,a,s,u,l){t.is(n,"array")||(n=[n,e,r,i,a,s,u,l]);var c=T.apply(null,n);return o(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)}function h(t,n,e){return n>=t.x&&n<=t.x+t.width&&e>=t.y&&e<=t.y+t.height}function p(t,n){return t=o(t),n=o(n),h(n,t.x,t.y)||h(n,t.x2,t.y)||h(n,t.x,t.y2)||h(n,t.x2,t.y2)||h(t,n.x,n.y)||h(t,n.x2,n.y)||h(t,n.x,n.y2)||h(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)}function d(t,n,e,r,i){var o=-3*n+9*e-9*r+3*i,a=t*o+6*n-12*e+6*r;return t*a-3*n+3*e}function g(t,n,e,r,i,o,a,s,u){null==u&&(u=1),u=u>1?1:0>u?0:u;for(var l=u/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;c>g;g++){var v=l*f[g]+l,m=d(v,t,e,i,a),y=d(v,n,r,o,s),x=m*m+y*y;p+=h[g]*D.sqrt(x)}return l*p}function v(t,n,e,r,i,o,a,s,u){if(!(0>u||g(t,n,e,r,i,o,a,s)<u)){var l,c=1,f=c/2,h=c-f,p=.01;for(l=g(t,n,e,r,i,o,a,s,h);$(l-u)>p;)f/=2,h+=(u>l?1:-1)*f,l=g(t,n,e,r,i,o,a,s,h);return h}}function m(t,n,e,r,i,o,a,s){if(!(U(t,e)<V(i,a)||V(t,e)>U(i,a)||U(n,r)<V(o,s)||V(n,r)>U(o,s))){
var u=(t*r-n*e)*(i-a)-(t-e)*(i*s-o*a),l=(t*r-n*e)*(o-s)-(n-r)*(i*s-o*a),c=(t-e)*(o-s)-(n-r)*(i-a);if(c){var f=u/c,h=l/c,p=+f.toFixed(2),d=+h.toFixed(2);if(!(p<+V(t,e).toFixed(2)||p>+U(t,e).toFixed(2)||p<+V(i,a).toFixed(2)||p>+U(i,a).toFixed(2)||d<+V(n,r).toFixed(2)||d>+U(n,r).toFixed(2)||d<+V(o,s).toFixed(2)||d>+U(o,s).toFixed(2)))return{x:f,y:h}}}}function y(t,n,e){var r=f(t),i=f(n);if(!p(r,i))return e?0:[];for(var o=g.apply(0,t),a=g.apply(0,n),s=~~(o/8),u=~~(a/8),l=[],h=[],d={},v=e?0:[],y=0;s+1>y;y++){var x=c.apply(0,t.concat(y/s));l.push({x:x.x,y:x.y,t:y/s})}for(y=0;u+1>y;y++)x=c.apply(0,n.concat(y/u)),h.push({x:x.x,y:x.y,t:y/u});for(y=0;s>y;y++)for(var b=0;u>b;b++){var w=l[y],S=l[y+1],k=h[b],C=h[b+1],_=$(S.x-w.x)<.001?"y":"x",A=$(C.x-k.x)<.001?"y":"x",M=m(w.x,w.y,S.x,S.y,k.x,k.y,C.x,C.y);if(M){if(d[M.x.toFixed(4)]==M.y.toFixed(4))continue;d[M.x.toFixed(4)]=M.y.toFixed(4);var j=w.t+$((M[_]-w[_])/(S[_]-w[_]))*(S.t-w.t),B=k.t+$((M[A]-k[A])/(C[A]-k[A]))*(C.t-k.t);j>=0&&1>=j&&B>=0&&1>=B&&(e?v++:v.push({x:M.x,y:M.y,t1:j,t2:B}))}}return v}function x(t,n){return w(t,n)}function b(t,n){return w(t,n,1)}function w(t,n,e){t=E(t),n=E(n);for(var r,i,o,a,s,u,l,c,f,h,p=e?0:[],d=0,g=t.length;g>d;d++){var v=t[d];if("M"==v[0])r=s=v[1],i=u=v[2];else{"C"==v[0]?(f=[r,i].concat(v.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,x=n.length;x>m;m++){var b=n[m];if("M"==b[0])o=l=b[1],a=c=b[2];else{"C"==b[0]?(h=[o,a].concat(b.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,l,c,l,c],o=l,a=c);var w=y(f,h,e);if(e)p+=w;else{for(var S=0,k=w.length;k>S;S++)w[S].segment1=d,w[S].segment2=m,w[S].bez1=f,w[S].bez2=h;p=p.concat(w)}}}}}return p}function S(t,n,e){var r=k(t);return h(r,n,e)&&w(t,[["M",n,e],["H",r.x2+10]],1)%2==1}function k(t){var n=i(t);if(n.bbox)return R(n.bbox);if(!t)return o();t=E(t);for(var e,r=0,a=0,s=[],u=[],l=0,c=t.length;c>l;l++)if(e=t[l],"M"==e[0])r=e[1],a=e[2],s.push(r),u.push(a);else{var f=T(r,a,e[1],e[2],e[3],e[4],e[5],e[6]);s=s.concat(f.min.x,f.max.x),u=u.concat(f.min.y,f.max.y),r=e[5],a=e[6]}var h=V.apply(0,s),p=V.apply(0,u),d=U.apply(0,s),g=U.apply(0,u),v=o(h,p,d-h,g-p);return n.bbox=R(v),v}function C(t,n,e,r,i){if(i)return[["M",+t+ +i,n],["l",e-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-e,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,n],["l",e,0],["l",0,r],["l",-e,0],["z"]];return o.toString=a,o}function _(t,n,e,r,i){if(null==i&&null==r&&(r=e),t=+t,n=+n,e=+e,r=+r,null!=i)var o=Math.PI/180,s=t+e*Math.cos(-r*o),u=t+e*Math.cos(-i*o),l=n+e*Math.sin(-r*o),c=n+e*Math.sin(-i*o),f=[["M",s,l],["A",e,e,0,+(i-r>180),0,u,c]];else f=[["M",t,n],["m",0,-r],["a",e,r,0,1,1,0,2*r],["a",e,r,0,1,1,0,-2*r],["z"]];return f.toString=a,f}function A(n){var e=i(n),r=String.prototype.toLowerCase;if(e.rel)return s(e.rel);t.is(n,"array")&&t.is(n&&n[0],"array")||(n=t.parsePathString(n));var o=[],u=0,l=0,c=0,f=0,h=0;"M"==n[0][0]&&(u=n[0][1],l=n[0][2],c=u,f=l,h++,o.push(["M",u,l]));for(var p=h,d=n.length;d>p;p++){var g=o[p]=[],v=n[p];if(v[0]!=r.call(v[0]))switch(g[0]=r.call(v[0]),g[0]){case"a":g[1]=v[1],g[2]=v[2],g[3]=v[3],g[4]=v[4],g[5]=v[5],g[6]=+(v[6]-u).toFixed(3),g[7]=+(v[7]-l).toFixed(3);break;case"v":g[1]=+(v[1]-l).toFixed(3);break;case"m":c=v[1],f=v[2];default:for(var m=1,y=v.length;y>m;m++)g[m]=+(v[m]-(m%2?u:l)).toFixed(3)}else{g=o[p]=[],"m"==v[0]&&(c=v[1]+u,f=v[2]+l);for(var x=0,b=v.length;b>x;x++)o[p][x]=v[x]}var w=o[p].length;switch(o[p][0]){case"z":u=c,l=f;break;case"h":u+=+o[p][w-1];break;case"v":l+=+o[p][w-1];break;default:u+=+o[p][w-2],l+=+o[p][w-1]}}return o.toString=a,e.rel=s(o),o}function M(n){var e=i(n);if(e.abs)return s(e.abs);if(O(n,"array")&&O(n&&n[0],"array")||(n=t.parsePathString(n)),!n||!n.length)return[["M",0,0]];var r,o=[],u=0,l=0,c=0,f=0,h=0;"M"==n[0][0]&&(u=+n[0][1],l=+n[0][2],c=u,f=l,h++,o[0]=["M",u,l]);for(var p,d,g=3==n.length&&"M"==n[0][0]&&"R"==n[1][0].toUpperCase()&&"Z"==n[2][0].toUpperCase(),v=h,m=n.length;m>v;v++){if(o.push(p=[]),d=n[v],r=d[0],r!=r.toUpperCase())switch(p[0]=r.toUpperCase(),p[0]){case"A":p[1]=d[1],p[2]=d[2],p[3]=d[3],p[4]=d[4],p[5]=d[5],p[6]=+d[6]+u,p[7]=+d[7]+l;break;case"V":p[1]=+d[1]+l;break;case"H":p[1]=+d[1]+u;break;case"R":for(var y=[u,l].concat(d.slice(1)),x=2,b=y.length;b>x;x++)y[x]=+y[x]+u,y[++x]=+y[x]+l;o.pop(),o=o.concat(P(y,g));break;case"O":o.pop(),y=_(u,l,d[1],d[2]),y.push(y[0]),o=o.concat(y);break;case"U":o.pop(),o=o.concat(_(u,l,d[1],d[2],d[3])),p=["U"].concat(o[o.length-1].slice(-2));break;case"M":c=+d[1]+u,f=+d[2]+l;default:for(x=1,b=d.length;b>x;x++)p[x]=+d[x]+(x%2?u:l)}else if("R"==r)y=[u,l].concat(d.slice(1)),o.pop(),o=o.concat(P(y,g)),p=["R"].concat(d.slice(-2));else if("O"==r)o.pop(),y=_(u,l,d[1],d[2]),y.push(y[0]),o=o.concat(y);else if("U"==r)o.pop(),o=o.concat(_(u,l,d[1],d[2],d[3])),p=["U"].concat(o[o.length-1].slice(-2));else for(var w=0,S=d.length;S>w;w++)p[w]=d[w];if(r=r.toUpperCase(),"O"!=r)switch(p[0]){case"Z":u=+c,l=+f;break;case"H":u=p[1];break;case"V":l=p[1];break;case"M":c=p[p.length-2],f=p[p.length-1];default:u=p[p.length-2],l=p[p.length-1]}}return o.toString=a,e.abs=s(o),o}function j(t,n,e,r){return[t,n,e,r,e,r]}function B(t,n,e,r,i,o){var a=1/3,s=2/3;return[a*t+s*e,a*n+s*r,a*i+s*e,a*o+s*r,i,o]}function F(n,e,r,i,o,a,s,u,l,c){var f,h=120*G/180,p=G/180*(+o||0),d=[],g=t._.cacher(function(t,n,e){var r=t*D.cos(e)-n*D.sin(e),i=t*D.sin(e)+n*D.cos(e);return{x:r,y:i}});if(c)C=c[0],_=c[1],S=c[2],k=c[3];else{f=g(n,e,-p),n=f.x,e=f.y,f=g(u,l,-p),u=f.x,l=f.y;var v=(D.cos(G/180*o),D.sin(G/180*o),(n-u)/2),m=(e-l)/2,y=v*v/(r*r)+m*m/(i*i);y>1&&(y=D.sqrt(y),r=y*r,i=y*i);var x=r*r,b=i*i,w=(a==s?-1:1)*D.sqrt($((x*b-x*m*m-b*v*v)/(x*m*m+b*v*v))),S=w*r*m/i+(n+u)/2,k=w*-i*v/r+(e+l)/2,C=D.asin(((e-k)/i).toFixed(9)),_=D.asin(((l-k)/i).toFixed(9));C=S>n?G-C:C,_=S>u?G-_:_,0>C&&(C=2*G+C),0>_&&(_=2*G+_),s&&C>_&&(C-=2*G),!s&&_>C&&(_-=2*G)}var A=_-C;if($(A)>h){var M=_,j=u,B=l;_=C+h*(s&&_>C?1:-1),u=S+r*D.cos(_),l=k+i*D.sin(_),d=F(u,l,r,i,o,0,s,j,B,[_,M,S,k])}A=_-C;var T=D.cos(C),E=D.sin(C),N=D.cos(_),P=D.sin(_),q=D.tan(A/4),O=4/3*r*q,R=4/3*i*q,L=[n,e],I=[n+O*E,e-R*T],z=[u+O*P,l-R*N],V=[u,l];if(I[0]=2*L[0]-I[0],I[1]=2*L[1]-I[1],c)return[I,z,V].concat(d);d=[I,z,V].concat(d).join().split(",");for(var U=[],X=0,H=d.length;H>X;X++)U[X]=X%2?g(d[X-1],d[X],p).y:g(d[X],d[X+1],p).x;return U}function T(t,n,e,r,i,o,a,s){for(var u,l,c,f,h,p,d,g,v=[],m=[[],[]],y=0;2>y;++y)if(0==y?(l=6*t-12*e+6*i,u=-3*t+9*e-9*i+3*a,c=3*e-3*t):(l=6*n-12*r+6*o,u=-3*n+9*r-9*o+3*s,c=3*r-3*n),$(u)<1e-12){if($(l)<1e-12)continue;f=-c/l,f>0&&1>f&&v.push(f)}else d=l*l-4*c*u,g=D.sqrt(d),0>d||(h=(-l+g)/(2*u),h>0&&1>h&&v.push(h),p=(-l-g)/(2*u),p>0&&1>p&&v.push(p));for(var x,b=v.length,w=b;b--;)f=v[b],x=1-f,m[0][b]=x*x*x*t+3*x*x*f*e+3*x*f*f*i+f*f*f*a,m[1][b]=x*x*x*n+3*x*x*f*r+3*x*f*f*o+f*f*f*s;return m[0][w]=t,m[1][w]=n,m[0][w+1]=a,m[1][w+1]=s,m[0].length=m[1].length=w+2,{min:{x:V.apply(0,m[0]),y:V.apply(0,m[1])},max:{x:U.apply(0,m[0]),y:U.apply(0,m[1])}}}function E(t,n){var e=!n&&i(t);if(!n&&e.curve)return s(e.curve);for(var r=M(t),o=n&&M(n),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=(function(t,n,e){var r,i;if(!t)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(t[0]in{T:1,Q:1})&&(n.qx=n.qy=null),t[0]){case"M":n.X=t[1],n.Y=t[2];break;case"A":t=["C"].concat(F.apply(0,[n.x,n.y].concat(t.slice(1))));break;case"S":"C"==e||"S"==e?(r=2*n.x-n.bx,i=2*n.y-n.by):(r=n.x,i=n.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"==e||"T"==e?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),t=["C"].concat(B(n.x,n.y,n.qx,n.qy,t[1],t[2]));break;case"Q":n.qx=t[1],n.qy=t[2],t=["C"].concat(B(n.x,n.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(j(n.x,n.y,t[1],t[2]));break;case"H":t=["C"].concat(j(n.x,n.y,t[1],n.y));break;case"V":t=["C"].concat(j(n.x,n.y,n.x,t[1]));break;case"Z":t=["C"].concat(j(n.x,n.y,n.X,n.Y))}return t}),c=function(t,n){if(t[n].length>7){t[n].shift();for(var e=t[n];e.length;)h[n]="A",o&&(p[n]="A"),t.splice(n++,0,["C"].concat(e.splice(0,6)));t.splice(n,1),m=U(r.length,o&&o.length||0)}},f=function(t,n,e,i,a){t&&n&&"M"==t[a][0]&&"M"!=n[a][0]&&(n.splice(a,0,["M",i.x,i.y]),e.bx=0,e.by=0,e.x=t[a][1],e.y=t[a][2],m=U(r.length,o&&o.length||0))},h=[],p=[],d="",g="",v=0,m=U(r.length,o&&o.length||0);m>v;v++){r[v]&&(d=r[v][0]),"C"!=d&&(h[v]=d,v&&(g=h[v-1])),r[v]=l(r[v],a,g),"A"!=h[v]&&"C"==d&&(h[v]="C"),c(r,v),o&&(o[v]&&(d=o[v][0]),"C"!=d&&(p[v]=d,v&&(g=p[v-1])),o[v]=l(o[v],u,g),"A"!=p[v]&&"C"==d&&(p[v]="C"),c(o,v)),f(r,o,a,u,v),f(o,r,u,a,v);var y=r[v],x=o&&o[v],b=y.length,w=o&&x.length;a.x=y[b-2],a.y=y[b-1],a.bx=z(y[b-4])||a.x,a.by=z(y[b-3])||a.y,u.bx=o&&(z(x[w-4])||u.x),u.by=o&&(z(x[w-3])||u.y),u.x=o&&x[w-2],u.y=o&&x[w-1]}return o||(e.curve=s(r)),o?[r,o]:r}function N(t,n){if(!n)return t;var e,r,i,o,a,s,u;for(t=E(t),i=0,a=t.length;a>i;i++)for(u=t[i],o=1,s=u.length;s>o;o+=2)e=n.x(u[o],u[o+1]),r=n.y(u[o],u[o+1]),u[o]=e,u[o+1]=r;return t}function P(t,n){for(var e=[],r=0,i=t.length;i-2*!n>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];n?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),e.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return e}var q=n.prototype,O=t.is,R=t._.clone,L="hasOwnProperty",I=/,?([a-z]),?/gi,z=parseFloat,D=Math,G=D.PI,V=D.min,U=D.max,X=D.pow,$=D.abs,H=l(1),Y=l(),W=l(0,1),Z=t._unit2px,Q={path:function(t){return t.attr("path")},circle:function(t){var n=Z(t);return _(n.cx,n.cy,n.r)},ellipse:function(t){var n=Z(t);return _(n.cx||0,n.cy||0,n.rx,n.ry)},rect:function(t){var n=Z(t);return C(n.x||0,n.y||0,n.width,n.height,n.rx,n.ry)},image:function(t){var n=Z(t);return C(n.x||0,n.y||0,n.width,n.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var n=t.node.getBBox();return C(n.x,n.y,n.width,n.height)}};t.path=i,t.path.getTotalLength=H,t.path.getPointAtLength=Y,t.path.getSubpath=function(t,n,e){if(this.getTotalLength(t)-e<1e-6)return W(t,n).end;var r=W(t,e,1);return n?W(r,n).end:r},q.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},q.getPointAtLength=function(t){return Y(this.attr("d"),t)},q.getSubpath=function(n,e){return t.path.getSubpath(this.attr("d"),n,e)},t._.box=o,t.path.findDotsAtSegment=c,t.path.bezierBBox=f,t.path.isPointInsideBBox=h,t.path.isBBoxIntersect=p,t.path.intersection=x,t.path.intersectionNumber=b,t.path.isPointInside=S,t.path.getBBox=k,t.path.get=Q,t.path.toRelative=A,t.path.toAbsolute=M,t.path.toCubic=E,t.path.map=N,t.path.toString=a,t.path.clone=s}),r.plugin(function(t,r,i,o){var a=Math.max,s=Math.min,u=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var n=0,e=t.length;e>n;n++)t[n]&&(this[this.items.length]=this.items[this.items.length]=t[n],this.length++)},l=u.prototype;l.push=function(){for(var t,n,e=0,r=arguments.length;r>e;e++)t=arguments[e],t&&(n=this.items.length,this[n]=this.items[n]=t,this.length++);return this},l.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},l.forEach=function(t,n){for(var e=0,r=this.items.length;r>e;e++)if(t.call(n,this.items[e],e)===!1)return this;return this},l.animate=function(r,i,o,a){"function"!=typeof o||o.length||(a=o,o=e.linear),r instanceof t._.Animation&&(a=r.callback,o=r.easing,i=o.dur,r=r.attr);var s=arguments;if(t.is(r,"array")&&t.is(s[s.length-1],"array"))var u=!0;var l,c=function(){l?this.b=l:l=this.b},f=0,h=a&&function(){f++==this.length&&a.call(this)};return this.forEach(function(t,e){n.once("snap.animcreated."+t.id,c),u?s[e]&&t.animate.apply(t,s[e]):t.animate(r,i,o,h)})},l.remove=function(){for(;this.length;)this.pop().remove();return this},l.bind=function(t,n,e){var r={};if("function"==typeof n)this.bindings[t]=n;else{var i=e||t;this.bindings[t]=function(t){r[i]=t,n.attr(r)}}return this},l.attr=function(t){var n={};for(var e in t)this.bindings[e]?this.bindings[e](t[e]):n[e]=t[e];for(var r=0,i=this.items.length;i>r;r++)this.items[r].attr(n);return this},l.clear=function(){for(;this.length;)this.pop()},l.splice=function(t,n,e){t=0>t?a(this.length+t,0):t,n=a(0,s(this.length-t,n));var r,i=[],o=[],l=[];for(r=2;r<arguments.length;r++)l.push(arguments[r]);for(r=0;n>r;r++)o.push(this[t+r]);for(;r<this.length-t;r++)i.push(this[t+r]);var c=l.length;for(r=0;r<c+i.length;r++)this.items[t+r]=this[t+r]=c>r?l[r]:i[r-c];for(r=this.items.length=this.length-=n-c;this[r];)delete this[r++];return new u(o)},l.exclude=function(t){for(var n=0,e=this.length;e>n;n++)if(this[n]==t)return this.splice(n,1),!0;return!1},l.insertAfter=function(t){for(var n=this.items.length;n--;)this.items[n].insertAfter(t);return this},l.getBBox=function(){for(var t=[],n=[],e=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();t.push(o.x),n.push(o.y),e.push(o.x+o.width),r.push(o.y+o.height)}return t=s.apply(0,t),n=s.apply(0,n),e=a.apply(0,e),r=a.apply(0,r),{x:t,y:n,x2:e,y2:r,width:e-t,height:r-n,cx:t+(e-t)/2,cy:n+(r-n)/2}},l.clone=function(t){t=new u;for(var n=0,e=this.items.length;e>n;n++)t.push(this.items[n].clone());return t},l.toString=function(){return"Snap‘s set"},l.type="set",t.set=function(){var t=new u;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),r.plugin(function(t,e,r,i){function o(t){var n=t[0];switch(n.toLowerCase()){case"t":return[n,0,0];case"m":return[n,1,0,0,1,0,0];case"r":return 4==t.length?[n,0,t[2],t[3]]:[n,0];case"s":return 5==t.length?[n,1,1,t[3],t[4]]:3==t.length?[n,1,1]:[n,1]}}function a(n,e,r){e=d(e).replace(/\.{3}|\u2026/g,n),n=t.parseTransformString(n)||[],e=t.parseTransformString(e)||[];for(var i,a,s,u,l=Math.max(n.length,e.length),h=[],p=[],g=0;l>g;g++){if(s=n[g]||o(e[g]),u=e[g]||o(s),s[0]!=u[0]||"r"==s[0].toLowerCase()&&(s[2]!=u[2]||s[3]!=u[3])||"s"==s[0].toLowerCase()&&(s[3]!=u[3]||s[4]!=u[4])){n=t._.transform2matrix(n,r()),e=t._.transform2matrix(e,r()),h=[["m",n.a,n.b,n.c,n.d,n.e,n.f]],p=[["m",e.a,e.b,e.c,e.d,e.e,e.f]];break}for(h[g]=[],p[g]=[],i=0,a=Math.max(s.length,u.length);a>i;i++)i in s&&(h[g][i]=s[i]),i in u&&(p[g][i]=u[i])}return{from:f(h),to:f(p),f:c(h)}}function s(t){return t}function u(t){return function(n){return+n.toFixed(3)+t}}function l(n){return t.rgb(n[0],n[1],n[2])}function c(t){var n,e,r,i,o,a,s=0,u=[];for(n=0,e=t.length;e>n;n++){for(o="[",a=['"'+t[n][0]+'"'],r=1,i=t[n].length;i>r;r++)a[r]="val["+s++ +"]";o+=a+"]",u[n]=o}return Function("val","return Snap.path.toString.call(["+u+"])")}function f(t){for(var n=[],e=0,r=t.length;r>e;e++)for(var i=1,o=t[e].length;o>i;i++)n.push(t[e][i]);return n}var h={},p=/[a-z]+$/i,d=String;h.stroke=h.fill="colour",e.prototype.equal=function(t,e){return n("snap.util.equal",this,t,e).firstDefined()},n.on("snap.util.equal",function(n,e){var r,i,o=d(this.attr(n)||""),g=this;if(o==+o&&e==+e)return{from:+o,to:+e,f:s};if("colour"==h[n])return r=t.color(o),i=t.color(e),{from:[r.r,r.g,r.b,r.opacity],to:[i.r,i.g,i.b,i.opacity],f:l};if("transform"==n||"gradientTransform"==n||"patternTransform"==n)return e instanceof t.Matrix&&(e=e.toTransformString()),t._.rgTransform.test(e)||(e=t._.svgTransform2string(e)),a(o,e,function(){return g.getBBox(1)});if("d"==n||"path"==n)return r=t.path.toCubic(o,e),{from:f(r[0]),to:f(r[1]),f:c(r[0])};if("points"==n)return r=d(o).split(t._.separator),i=d(e).split(t._.separator),{from:r,to:i,f:function(t){return t}};aUnit=o.match(p);var v=d(e).match(p);return aUnit&&aUnit==v?{from:parseFloat(o),to:parseFloat(e),f:u(aUnit)}:{from:this.asPX(n),to:this.asPX(n,e),f:s}})}),r.plugin(function(t,e,r,i){for(var o=e.prototype,a="hasOwnProperty",s=("createTouch"in i.doc),u=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},c=(function(t,n){var e="y"==t?"scrollTop":"scrollLeft",r=n&&n.node?n.node.ownerDocument:i.doc;return r[e in r.documentElement?"documentElement":"body"][e]}),f=function(){this.returnValue=!1},h=function(){return this.originalEvent.preventDefault()},p=function(){this.cancelBubble=!0},d=function(){return this.originalEvent.stopPropagation()},g=function(){return i.doc.addEventListener?function(t,n,e,r){var i=s&&l[n]?l[n]:n,o=function(i){var o=c("y",r),u=c("x",r);if(s&&l[a](n))for(var f=0,p=i.targetTouches&&i.targetTouches.length;p>f;f++)if(i.targetTouches[f].target==t||t.contains(i.targetTouches[f].target)){var g=i;i=i.targetTouches[f],i.originalEvent=g,i.preventDefault=h,i.stopPropagation=d;break}var v=i.clientX+u,m=i.clientY+o;return e.call(r,i,v,m)};return n!==i&&t.addEventListener(n,o,!1),t.addEventListener(i,o,!1),function(){return n!==i&&t.removeEventListener(n,o,!1),t.removeEventListener(i,o,!1),!0}}:i.doc.attachEvent?function(t,n,e,r){var i=function(t){t=t||r.node.ownerDocument.window.event;var n=c("y",r),i=c("x",r),o=t.clientX+i,a=t.clientY+n;return t.preventDefault=t.preventDefault||f,t.stopPropagation=t.stopPropagation||p,e.call(r,t,o,a)};t.attachEvent("on"+n,i);var o=function(){return t.detachEvent("on"+n,i),!0};return o}:void 0}(),v=[],m=function(t){for(var e,r=t.clientX,i=t.clientY,o=c("y"),a=c("x"),u=v.length;u--;){if(e=v[u],s){for(var l,f=t.touches&&t.touches.length;f--;)if(l=t.touches[f],l.identifier==e.el._drag.id||e.el.node.contains(l.target)){r=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h=e.el.node;h.nextSibling,h.parentNode,h.style.display;r+=a,i+=o,n("snap.drag.move."+e.el.id,e.move_scope||e.el,r-e.el._drag.x,i-e.el._drag.y,r,i,t)}},y=function(e){t.unmousemove(m).unmouseup(y);for(var r,i=v.length;i--;)r=v[i],r.el._drag={},n("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,e);v=[]},x=u.length;x--;)!function(n){t[n]=o[n]=function(e,r){return t.is(e,"function")&&(this.events=this.events||[],this.events.push({name:n,f:e,unbind:g(this.node||document,n,e,r||this)})),this},t["un"+n]=o["un"+n]=function(t){for(var e=this.events||[],r=e.length;r--;)if(e[r].name==n&&(e[r].f==t||!t))return e[r].unbind(),e.splice(r,1),!e.length&&delete this.events,this;return this}}(u[x]);o.hover=function(t,n,e,r){return this.mouseover(t,e).mouseout(n,r||e)},o.unhover=function(t,n){return this.unmouseover(t).unmouseout(n)};var b=[];o.drag=function(e,r,i,o,a,s){function u(u,l,c){(u.originalEvent||u).preventDefault(),this._drag.x=l,this._drag.y=c,this._drag.id=u.identifier,!v.length&&t.mousemove(m).mouseup(y),v.push({el:this,move_scope:o,start_scope:a,end_scope:s}),r&&n.on("snap.drag.start."+this.id,r),e&&n.on("snap.drag.move."+this.id,e),i&&n.on("snap.drag.end."+this.id,i),n("snap.drag.start."+this.id,a||o||this,l,c,u)}if(!arguments.length){var l;return this.drag(function(t,n){this.attr({transform:l+(l?"T":"t")+[t,n]})},function(){l=this.transform().local})}return this._drag={},b.push({el:this,start:u}),this.mousedown(u),this},o.undrag=function(){for(var e=b.length;e--;)b[e].el==this&&(this.unmousedown(b[e].start),b.splice(e,1),n.unbind("snap.drag.*."+this.id));return!b.length&&t.unmousemove(m).unmouseup(y),this}}),r.plugin(function(t,e,r,i){var o=(e.prototype,r.prototype),a=/^\s*url\((.+)\)/,s=String,u=t._.$;t.filter={},o.filter=function(n){var r=this;"svg"!=r.type&&(r=r.paper);var i=t.parse(s(n)),o=t._.id(),a=(r.node.offsetWidth,r.node.offsetHeight,u("filter"));return u(a,{id:o,filterUnits:"userSpaceOnUse"}),a.appendChild(i.node),r.defs.appendChild(a),new e(a)},n.on("snap.util.getattr.filter",function(){n.stop();var e=u(this.node,"filter");if(e){var r=s(e).match(a);return r&&t.select(r[1])}}),n.on("snap.util.attr.filter",function(r){if(r instanceof e&&"filter"==r.type){n.stop();var i=r.node.id;i||(u(r.node,{id:r.id}),i=r.id),u(this.node,{filter:t.url(i)})}r&&"none"!=r||(n.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(n,e){null==n&&(n=2);var r=null==e?n:[n,e];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(n,e,r,i,o){return"string"==typeof r&&(i=r,o=i,r=4),"string"!=typeof i&&(o=i,i="#000"),i=i||"#000",null==r&&(r=4),null==o&&(o=1),null==n&&(n=0,e=2),null==e&&(e=n),i=t.color(i),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:n,dy:e,blur:r,opacity:o})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(n){return null==n&&(n=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-n),b:.7152-.7152*(1-n),c:.0722-.0722*(1-n),d:.2126-.2126*(1-n),e:.7152+.2848*(1-n),f:.0722-.0722*(1-n),g:.2126-.2126*(1-n),h:.0722+.9278*(1-n)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(n){return null==n&&(n=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-n),b:.769-.769*(1-n),c:.189-.189*(1-n),d:.349-.349*(1-n),e:.686+.314*(1-n),f:.168-.168*(1-n),g:.272-.272*(1-n),h:.534-.534*(1-n),i:.131+.869*(1-n)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(n){return null==n&&(n=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-n})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(n){return n=n||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:n})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(n){return null==n&&(n=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:n,amount2:1-n})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(n){return null==n&&(n=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:n})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(n){return null==n&&(n=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:n,amount2:.5-n/2})},t.filter.contrast.toString=function(){return this()}}),r}),define("functions",["Underscore","constants"],function(t,n){var e=2*Math.PI;return{hexPoints:function(t,n){for(var r=[],i=0;6>i;i++){var o=n*Math.sin(e*i/6)+t.x,a=n*Math.cos(e*i/6)+t.y;r.push({x:o,y:a})}return r},flatten:function(n){return t.reduce(n,function(t,n){return t.push(n.x),t.push(n.y),t},[])},distance:function(t,n){return Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))},angle:function(t,n){var e=t.x-n.x,r=t.y-n.y;return Math.atan2(e,r)},random:function(t){return window.rnd.choice(t)},intersect:function(t,n,e,r){function i(t,n,e,r,i,o,a,s){var u,l,c;return u=(e-t)*(s-o)-(a-i)*(r-n),Math.abs(u)<5e-4?!1:(c=((s-o)*(a-t)+(i-a)*(s-n))/u,l=((n-r)*(a-t)+(e-t)*(s-n))/u,c>=-1e-4&&1.0001>=c&&l>=-1e-4&&1.00001>=l)}return i(t.x,t.y,n.x,n.y,e.x,e.y,r.x,r.y)}}}),define("constants",["functions"],function(t){var n={size:45,symmetries:[[0,27,30],[1,31,23],[3,34,16],[4,24,26],[6,36,9],[7,28,19],[10,32,12],[11,21,22],[13,35,5],[14,25,15],[17,29,8],[20,33,2]],centerPoints:[4,12,26,32,24,10,18],hexes:{4:[0,2,8,11,7,1],12:[5,9,16,19,15,8],26:[19,23,30,33,29,22],32:[25,29,35,36,34,28],24:[17,21,28,31,27,20],10:[3,7,14,17,13,6],18:[11,15,22,25,21,14]},allowed:{"0-1":[],"0-3":[1],"0-4":[],"0-11":[4],"1-3":[],"1-4":[],"1-6":[3],"1-7":[],"1-14":[7],"3-6":[],"3-7":[],"3-10":[],"3-11":[7],"3-17":[10],"4-7":[],"4-10":[7],"4-11":[],"4-13":[10,7],"6-10":[],"6-13":[],"6-14":[10],"6-20":[13],"7-10":[],"7-11":[],"7-13":[10],"7-14":[],"10-13":[],"10-14":[],"10-17":[],"11-14":[],"11-17":[14],"11-20":[14,17],"13-17":[],"13-20":[],"14-17":[],"14-20":[17],"17-20":[]},index2points:function(t){return _.map(t,function(t){return this.points[t]},this)},colors:["#f0c500","#e48b21","#008bb9","#91beaf","#649791","#a2163b","#560604","#b9bc63","#4f9f4f"]},e=n.size*Math.sqrt(3)/2*4-n.size/8;n.center={x:e,y:e},n.points=[],n.points[18]=n.center;for(var r=t.hexPoints(n.center,2*n.size),i=0;6>i;i++){n.points[n.centerPoints[i]]=r[i];for(var o=t.hexPoints(r[i],n.size),a=0;6>a;a++)n.points[n.hexes[n.centerPoints[i]][a]]=o[a]}return n.symmetryGroups=_.reduce(n.symmetries,function(t,n){return t[n[0]]=n,t},{}),n}),define("render",["Underscore","Snap","constants","functions"],function(t,n,e,r){return{renderBob:function(t,n,r,i){var o=e.points[n],a=e.points[r];return t.line(o.x,o.y,a.x,a.y).attr({stroke:i,strokeWidth:e.size/2,strokeLinecap:"round"})},renderPoints:function(t){for(var n=0;n<e.points.length;n++)t.text(e.points[n].x,e.points[n].y,""+n).attr({"font-size":10})},drawPolygon:function(t,n,e){return t.polygon(r.flatten(n)).attr(e)},renderSnowflake:function(t){e.centerPoints.forEach(function(n){var r=e.hexes[n],i=e.index2points(r);this.drawPolygon(t,i,{fill:"none",stroke:"#000",strokeWidth:"0.2px"})},this)}}}),define("rnd",[],function(){function t(t){this.m=2147483648,this.a=1103515245,this.c=12345,this.state=t}return t.prototype.nextInt=function(){return this.state=(this.a*this.state+this.c)%this.m,this.state},t.prototype.nextFloat=function(){return this.nextInt()/(this.m-1)},t.prototype.nextRange=function(t,n){var e=n-t,r=this.nextInt()/this.m;return t+Math.floor(r*e)},t.prototype.choice=function(t){return t[this.nextRange(0,t.length)]},t}),define("makeSvg",["makeSvg"],function(t){var n=null,e=function(t){var e=new Blob([t],{type:"image/svg+xml"});return null!==n&&window.URL.revokeObjectURL(n),n=window.URL.createObjectURL(e)};return e}),require(["Underscore","Snap","render","constants","functions","rnd","makeSvg"],function(t,n,e,r,i,o,a){function s(s){function p(e,i,o){var a=t.zip(e,i);t.each(a,function(t){var e=t[0],i=t[1],a=r.index2points([i.s,i.f]);e.svg.animate({x1:a[0].x,y1:a[0].y,x2:a[1].x,y2:a[1].y},500,o);var s=n.getRGB(e.color),u=n.getRGB(i.color);n.animate([s.r,s.g,s.b],[u.r,u.g,u.b],function(t){var r=n.rgb(t[0],t[1],t[2]);e.svg.attr({stroke:r})},500)})}function d(n){function o(){0==s.length&&(s=r.colors.slice(0));var n=i.random(s);return s=t.without(s,n),n}function a(n,e){return t.any(e,function(t){var e=r.index2points([n.s,n.f,t.s||t.sc,t.f||t.fc]);return i.intersect(e[0],e[1],e[2],e[3])})}for(var s=[],l=[],f=[],h=0;3>h;h++){var p,d,g=0;do{var v=i.random(t.keys(r.allowed)),m=t.map(v.split("-"),function(t){return parseInt(t,10)});if(p=m[0],d=m[1],g++>1e3)throw new Error("bug")}while(l[p]||l[d]||a({s:p,f:d},f)||t.any(r.allowed[v],function(t){return l[t]}));f.push({sc:p,fc:d}),l[p]=!0,l[d]=!0,t.each(r.allowed[v],function(t){l[t]=!0})}var y=[];for(h=0;3>h;h++)for(var x=0;3>x;x++){var b={s:c[f[h].sc][x],f:c[f[h].fc][x],color:o()};n&&(b.svg=e.renderBob(u,b.s,b.f,b.color)),y.push(b)}return t.shuffle(y)}var s=f.value||0;if(window.rnd=new o(s),0==l.length)l=d(!0);else{var g=d(!1);p(l,g,function(){var t=u.toString();h.href=a(t),h.setAttribute("download","logo_"+s+".svg")})}}var u=n("#flake"),l=[];e.renderSnowflake(u);var c=r.symmetryGroups,f=(t.keys(c),document.getElementById("seed")),h=document.getElementById("download");f.value=parseInt(window.location.hash.replace("#",""),10)||0;var p=function(){f.value=parseInt(1e7*Math.random()),window.location.hash="#"+f.value};document.getElementById("random").addEventListener("click",p),document.querySelectorAll(".paper")[0].addEventListener("touchend",p),f.addEventListener("input",function(t){window.location.hash="#"+f.value}),window.addEventListener("hashchange",function(){f.value=parseInt(window.location.hash.replace("#",""),10)||0,s()}),s(),u.node.querySelectorAll("desc")[0].textContent+=". Targetprocess © 2014"}),define("flake",function(){}),require.config({baseUrl:"js",paths:{Underscore:"vendor/underscore/underscore",Snap:"vendor/snap.svg/dist/snap.svg"},shim:{Underscore:{exports:"_"},Snap:{exports:"Snap"}}}),require(["flake"]),define("app",function(){});